<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <title>Magic Ad-Tracking Dashboard</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <!-- CSS files-->
        <link href="css/bootstrap.css" rel="stylesheet">
        <link href="css/bootstrap.min.css" rel="stylesheet">
        <link href="css/bootstrap-responsive.min.css" rel="stylesheet">
        <link href="css/dash.css" rel="stylesheet">

        <link href="css/font-awesome/css/font-awesome.min.css" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="js/easypie/jquery.easy-pie-chart.css">
        <!-- Google font -->
        <link href='http://fonts.googleapis.com/css?family=Asap:400,700' rel='stylesheet' type='text/css'>
        <script type="text/javascript" src="js/jquery.min.js"></script>
        <script type="text/javascript" src="js/jqplot/jqplot.canvasTextRenderer.min.js"></script>
        <script type="text/javascript" src="js/jqplot/jqplot.canvasAxisTickRenderer.min.js"></script>
        <!--Top Rep -->
        <script type="text/javascript" src="js/jquery-1.9.1.min.js"></script>
        <script type="text/javascript" src="js/jqplot/jquery.jqplot.min.js"></script>
        <script type="text/javascript" src="js/jqplot/jqplot.barRenderer.min.js"></script>
        <script type="text/javascript" src="js/jqplot/jqplot.categoryAxisRenderer.min.js"></script>
        <script type="text/javascript" src="js/jqplot/jqplot.pointLabels.min.js"></script>
        <script type="text/javascript" src="js/jqplot/jqplot.dateAxisRenderer.min.js"></script>
        <script type="text/javascript" src="js/jqplot/jqplot.canvasTextRenderer.min.js"></script>
        <script type="text/javascript" src="js/jqplot/jqplot.canvasAxisTickRenderer.min.js"></script>
        <script type="text/javascript" src="js/jqplot/jqplot.categoryAxisRenderer.min.js"></script>
        <script type="text/javascript" src="js/jqplot/jqplot.highlighter.min.js"></script>
        <link rel="stylesheet" type="text/css" href="css/jqplot/jquery.jqplot.min.css" />
        <script src="js/raphael/raphael.js"></script>
        <script src="js/raphael/g.raphael.js"></script>
        <script src="js/raphael/g.pie.js"></script>
        <link rel="stylesheet" type="text/css" href="http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css" />
        <link href='http://fonts.googleapis.com/css?family=Asap:400,700' rel='stylesheet' type='text/css'>
        
        <style>
            .easy-pie-chart {
                left: 33%;
            }
            .pielabel {
                display: block;
                text-align: center;
                margin-top: 3px;
            }
            .notextdecor {
                text-decoration:none;
                color:#FFFFFF;
                
            }
        </style>
        <style>
            .refreshImg {
                margin-left: 1200px;
                cursor: pointer;
            }
            .myOffset {
                margin-left: 3%;
            }
            
            .myOffset2 {
                margin-left: 12%;
            }
            
            .side-box {
                height: 100px;
            }
            
            .side-box-holder {
                width: 100px;
                height: 125px;
                margin-top: -48%;
            }
            
            .myTabs{
                background-color: #49708A;
            }
            .tabColor {
                background-color: #49708A;
            }
            .center{
                width: 150px;
                height: 150px;
                position: absolute;
                left: 50%;
                top: 50%;
                margin-left: -10%;
                margin-top: -5%;
            }
            .chartholder {
                width:790px;
                height:500px;
                margin: 5px;
                font-family:'Asap', sans-serif;
                
            }
            .loading_intro {
                width:790px;
                height:500px;
                margin: 5px;
            }
            .sales_content {
                width:790px;
                height:500px;
                margin: 5px;
                font-family:'Asap', sans-serif;
                
            }
            .lowerBox {
                background-color: #DDDDDD;
                height:100px;
            }
            .data_font {
                font-family:'Asap', sans-serif;
                font-size: 14px;
                text-decoration:none;
                color: #49708A;
            }
            /*.pieholder {
                width:790px;
                height:500px;
            }*/

            #chartholder {
                width: 790px;
                height: 500px;
                margin: 5px;
                font-family:'Asap', sans-serif;
            }

            #pieholder {
                width: 790px;
                height: 500px;
                margin: 5px;
                font-family:'Asap', sans-serif;
            }
            #bigBox {
                /*position: absolute;
                top: 50%;
                margin-top: -16%;*/
                top: 50%;
                margin-top: -2.3%;
            }
            #tallBox {
                height: 612px;
                top: 50%;
                margin-top: -2.35%;
                
            }
            #footer {
                
                /*margin-top: 0%;*/
            }
            #revBox {
                height: 75px;
            }
            #rowBox {
                height: 580px;
            }
            #railBar {
                margin-top: 2%;
            }
            #railBar2 {
                background-color: #49708A;
                margin-top: 4%;
            }
            #footCred {
                
                margin-top: -1.75%;
            }
            #lockDown {
                /*position:initial;*/
                /*resize: none;
                overflow: auto;*/
                /*margin-left: auto;
                margin-right: auto;
                width: max-content;
                height: max-content;*/
            }
            #QA{
                float: right;
            }
        </style>
        
    </head>
    <body>
        <div id="lockDown">
        <!-- Navbar -->
        <div class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="brand" href="index.html">
                        <!--<div class="icon-magic" style="color:#000"></div>Magic Dashboard</a>-->
                        <img src="magicCrop.PNG" width="30" height="30"/>Ad-Tracking Dashboard
                    </a>
                    <div class="refreshImg container">
                        <a id="refresh_box" class="brand pull-right"> 

                            <img class='pull-right' src='ArrowWSquareCrop.PNG' width='23' height='23' title="Refresh"/> 
                        </a>
                    </div> 
                    <!--<div class="nav-collapse">
                        
                    </div>-->
                </div>
            </div>
        </div>
        <!-- /Navbar -->
        <!-- Main content -->
        <div id="main-content">
            <!-- Container -->
            <div class="container">
                <!-- Header boxes -->
                <div class="box-container">
                    </div>
                <!-- /Header boxes -->
                <div class="row" id="rowBox">
                    <!-- Sidebar -->
                    <div class="span3" id="tallBox">
                        <h1 class="page-title tabColor">Product</h1>
                        <select id="bookcombo" class="combobox input-large span3" name="normal">
                            <!--<option value="LC13" selected="">LC13</option>INITIAL LOADING OF COMBO BOX-->
                            
                        </select>
                        
                        <h1 class="page-title tabColor">Ad Team</h1>
                        <select id="repcombo" class="combobox input-large span3" name="normal">
                            <option value="ALL" selected="">All</option>
                        </select>
                        <h1 class="page-title tabColor">Ad Location Totals<span id="ad_totals_count" class="pull-right"></span></h1>
                        <ul id="sidebar" class="nav nav-tabs nav-stacked" data-tabs="tabs">
                            
                            <!--REMOVE THIS<li id="get_repcomments">
                                <a href="#">
                                    <i class="icon-comments-alt"></i>&nbsp;&nbsp;Rep Comments
                                    <span class="label label-success pull-right">New!</span>
                                    
                                </a>
                            </li>REMOVE-->
                            <li>
                                <a href="#">
                                    <!--<i class="icon-bolt"></i>&nbsp;&nbsp;New Today-->
                                    <img src="questionIconCrop.PNG" width="20" height="20"/>&nbsp;&nbsp;Nowhere
                                    <!--TEST<span id="todays_new_rev" class="label label-success pull-right tabColor">$0</span>-->
                                    <span id="nowhere_count" class="label label-success pull-right tabColor">0</span>
                                    
                                    
                                    
                                    
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <!--<i class="icon-truck"></i>&nbsp;&nbsp;Renews Today-->
                                    <img src="starIconCrop.PNG" width="20" height="20"/>&nbsp;&nbsp;Canvas
                                    <!--TEST<span id="todays_renew_rev" class="label label-success pull-right tabColor">$0</span>-->
                                    <span id="canvas_count" class="label label-success pull-right tabColor">0</span>
                                    
                                    
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <!--<i class="icon-thumbs-up"></i>&nbsp;&nbsp;Increases Today-->
                                    <img src="checkIconCrop.PNG" width="20" height="20"/>&nbsp;&nbsp;Proof
                                    <!--TEST<span id="todays_incr_rev" class="label label-success pull-right tabColor">$0</span>TEST-->
                                    <span id="proof_count" class="label label-success pull-right tabColor">0</span>                   
                                    
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    <!--<i class="icon-thumbs-down"></i>&nbsp;&nbsp;Decreases Today-->
                                    <img src="thumbsUpCrop.PNG" width="20" height="20"/>&nbsp;&nbsp;Ads
                                    <!--TEST<span id="todays_decr_rev" class="label label-success pull-right tabColor">$0</span>-->
                                    <span id="ads_count" class="label label-success pull-right tabColor">0</span>
                                    
                                </a>
                            </li>
                            <li>
                                <a href="#">
                                    
                                    <div class="side-box">
                                        
                                        <div>Start <span id="start_date" class="label label-success myOffset2 tabColor">&nbsp;&nbsp;/&nbsp;&nbsp;/&nbsp;&nbsp;</span></div>
                                        <div>&nbsp;</div>
                                        
                                        <div>Art Close<span id="art_close_date" class="label label-success myOffset tabColor">&nbsp;&nbsp;/&nbsp;&nbsp;/&nbsp;&nbsp;</span></div>
                                        <div>&nbsp;</div>
                                        
                                        <div>Days Left<span id="days_left_count" class="label label-success myOffset tabColor">0</span></div>
                                        <div>&nbsp;</div>
                                        
                                        <div class="side-box-holder pull-right">
                                        <div class="pie-total-ads pull-right" data-percent="0">
                                            <span>0</span>%</div>
                                        <div class="pielabel"></div>
                                    </div>
                                    
                                    </div>
                                </a>
                            </li>
                            
                            
                        </ul>
                    </div>
                    <!-- /Sidebar -->
                    <!-- Content -->
                    <div class="span9">
                        <!--<h1 class="page-title">Dashboard Overview</h1>-->
                        
                        <div class="widget" id="bigBox">
                            <div class="widget-header">
                                <div class="tabbable" >
                                 <ul class="nav nav-tabs myTabs">
                                 
                                      <li class="active"><a class="atab notextdecor" href="#sales_overview" data-toggle="tab">Production Status</a></li>
                                      <li><a class="btab notextdecor" href="#sales_rep_prog" data-toggle="tab">CloudProofs Status</a></li>
                                      <li><a class="ctab notextdecor" href="#total_sales" data-toggle="tab">Renewal Status</a></li>
                                      <!--<li><a class="dtab notextdecor" href="#total_sales2" data-toggle="tab">Ads Per Graphic Artist</a></li>
                                      <li><a class="etab notextdecor" href="#total_sales3" data-toggle="tab">Ads Per Proofer</a></li>-->
                                      
                                      
                                      <!--<li><a href ="#other_chart" data-toggle="tab">Other Chart</a></li>-->
                                  </ul>
                                <!--<h3>
                                    <i class="icon-signal"></i>&nbsp;&nbsp;Charts</h3>-->   
                                  <div class="tab-content">
                                      
                                      <div class="tab-pane active" id="sales_overview"></div>
                                      <div class="tab-pane" id="sales_rep_prog"></div>
                                      <div class="tab-pane" id="total_sales"></div>
                                      <!--<div class="tab-pane" id="total_sales2"></div>
                                      <div class="tab-pane" id="total_sales3"></div>-->

                                  </div>
                                </div>
                            </div>
                            
                            <div class="widget-content">
                                <!-- <iframe id="frame" src="topheadings.html" width="390" height="550" frameborder="0" allowTransparency="true"></iframe>
                                <iframe id="frame" src="topheadings2.html" width="390" height="550" frameborder="0" allowTransparency="true"></iframe> -->
                                <!--<iframe id="repframe" src="topreps.html" width="835" height="550" frameborder="0" allowTransparency="true"></iframe>-->
                                <div class="box-container">
                                    <div class="box-holder" >
                                        <!--<div class="loading_intro" id="loading"><div vertical-align="center" ><img src="loading81.gif" width="100" height="100"/></div></div>-->
                                        <div class="loading_intro" id="loading"><div class="center" ><img src="ajax-loader(2).gif" /></div></div>
                                        <div class="chartholder" id="repframe"></div>
                                        
                                        <!-- ////////////////PRODUCTION STAT////////No Artwork, Not Started, In Art Department, In Quality Control, In Proof Generation, Awaiting Approval, In Revision, Approved///////////////-->
                                        <div class="production_stat" id="production_stat_id">
                                            <!--UPPER BOX-->
                                            <div class="box-container">
                                                <!--Box1-->
                                                <div class="box-holder">
                                                    <a href="#">
                                                        <div class="box">
                                                            <div id="newAd">
                                                                
                                                                <span id="no_artwork_count">0</span>No Artwork
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                <div class="box-holder">
                                                    <a href="#">
                                                        <div class="box">
                                                            <div id="renew">
                                                                <span id="prod_not_started_count">0</span>Not Started
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                
                                                <div class="box-holder">
                                                    <a href="#">
                                                        <div class="box">
                                                            <div id="not_renew">
                                                                <span id="prod_art_dept_count">0</span>Art Department
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                
                                                <div class="box-holder">
                                                    <a href="#">
                                                        <div class="box">
                                                            <div id="revision">
                                                                <span id="prod_quality_control_count">0</span>Quality Control
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                <div class="box-holder">
                                                    <a href="#">
                                                        <div class="box">
                                                            <div id="newAd">
                                                                
                                                                <span id="prod_proof_gen_count">0</span>Proof Generation
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                
                                            </div><!--END Lower BOX -->
                                            
                                            <div class="box-container">
                                                        <div class="box-holder">
                                                            <div class="pie-no-artwork" data-percent="100">
                                                                <span>0</span>%</div>
                                                            <div class="pielabel">No Artwork</div>
                                                        </div>
                                                        <div class="box-holder">
                                                            <div class="pie-not-started" data-percent="100">
                                                                <span>0</span>%</div>
                                                            <div class="pielabel">Not Started</div>
                                                        </div>
                                                        <div class="box-holder">
                                                            <div class="pie-art-department" data-percent="100">
                                                                <span>0</span>%</div>
                                                            <div class="pielabel">Art Department</div>
                                                        </div>
                                                        <div class="box-holder">
                                                            <div class="pie-quality-control" data-percent="100">
                                                                <span>0</span>%</div>
                                                            <div class="pielabel">Quality Control</div>
                                                        </div>
                                                        <div class="box-holder">
                                                            <div class="pie-proof-gen" data-percent="100">
                                                                <span>0</span>%</div>
                                                            <div class="pielabel">Proof Generation</div>
                                                        </div>
                                                        
                                                    </div>
                                           <!--End pie-->
                                            
                                            <h1 class="page-title">
                                                <img src="dudeCrop.PNG" width="20" height="20"/>&nbsp;&nbsp;Production Total
                                                <span id="production_total_count">&nbsp;0</span>
                                            </h1>
                                           
                                            <div class="box-container">
                                                        
                                                        <div class="box-holder">
                                                            <div class="pie-awaiting-approval" data-percent="100">
                                                                <span>0</span>%</div>
                                                            <div class="pielabel">Awaiting Approval</div>
                                                            
                                                        </div>
                                                        <div class="box-holder">
                                                            <div class="pie-revision" data-percent="100">
                                                                <span>0</span>%</div>
                                                            <div class="pielabel">Revision</div>
                                                        </div>
                                                        <div class="box-holder">
                                                            
                                                            <div class="pie-approval" data-percent="100">
                                                                <span>0</span>%</div>
                                                            <div class="pielabel">Approved</div>
                                                        </div>
                                                        <div class="box-holder">
                                                            
                                                            <div class="pie-old-version" data-percent="100">
                                                                <span>0</span>%</div>
                                                            <div class="pielabel">Old Version</div>
                                                        </div>
                                                        <div class="box-holder">
                                                            
                                                            <div class="pie-bounced" data-percent="100">
                                                                <span>0</span>%</div>
                                                            <div class="pielabel">Bounced</div>
                                                        </div>
                                                        
                                                    </div>
                                           <!--End pie-->
                                           
                                           <!--UPPER BOX-->
                                            <div class="box-container">
                                                <!--Box1-->
                                                
                                                <div class="box-holder">
                                                    <a href="#">
                                                        <div class="box">
                                                            <div id="not_renew">
                                                                <span id="awaiting_approval_count">0</span>Awaiting Approval
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                
                                                <div class="box-holder">
                                                    
                                                    <a href="#">
                                                        <div class="box">
                                                            <div id="renew">
                                                                <span id="prod_revision_count">0</span>Revision
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                <div class="box-holder">
                                                    <a href="#">
                                                        <div class="box">
                                                            <div id="deleted">
                                                                <span id="approved_count">0</span>Approved
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                <div class="box-holder">
                                                    <a href="#">
                                                        <div class="box">
                                                            <div id="deleted">
                                                                <span id="old_version_count">0</span>Old Version
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                <div class="box-holder">
                                                    <a href="#">
                                                        <div class="box">
                                                            <div id="deleted">
                                                                <span id="bounced_count">0</span>Bounced
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                            </div><!--END Lower BOX -->
                                            
                                        </div><!--END prod_stat-->
                                        
                                        <!-- ////////////////END PRODUCTION STAT//////////////////////-->
                                        
                                        
                                        
                                        <!-- ////////////////RENEWAL STAT/////////////////////////-->
                                        
                                        <!--///Renewal Status (
                                        Not Determined, 
                                        Spec Art, 
                                        Straight Renewal, 
                                        Revision Required, 
                                        New, 
                                        Not Sold, 
                                        Complete
                                        ) - 7/// -->
                                        <div class="renewal_stat" id="renewal_stat_id">
                                            <!--UPPER BOX-->
                                            <div class="box-container">
                                                <!--Box1-->
                                                <div class="box-holder">
                                                    <a href="#">
                                                        <div class="box">
                                                            <div id="newAd">
                                                                
                                                                <span id="not_det_count">0</span>Not Determined
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                <div class="box-holder">
                                                    <a href="#">
                                                        <div class="box">
                                                            <div id="renew">
                                                                <span id="spec_art_count">0</span>Spec Art
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                
                                                <div class="box-holder">
                                                    <a href="#">
                                                        <div class="box">
                                                            <div id="not_renew">
                                                                <span id="straight_renew_count">0</span>Straight Renewal
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                
                                                <div class="box-holder">
                                                    <a href="#">
                                                        <div class="box">
                                                            <div id="revision">
                                                                <span id="revision_req_count">0</span>Revision Required
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                
                                            </div><!--END Lower BOX -->
                                            
                                            <div class="box-container">
                                                        <div class="box-holder">
                                                            <div class="pie-not-determined" data-percent="100">
                                                                <span>0</span>%</div>
                                                            <div class="pielabel">Not Determined</div>
                                                        </div>
                                                        <div class="box-holder">
                                                            <div class="pie-spec-art" data-percent="100">
                                                                <span>0</span>%</div>
                                                            <div class="pielabel">Spec Art</div>
                                                        </div>
                                                        <div class="box-holder">
                                                            <div class="pie-straight-renewal" data-percent="100">
                                                                <span>0</span>%</div>
                                                            <div class="pielabel">Straight Renewal</div>
                                                        </div>
                                                        <div class="box-holder">
                                                            <div class="pie-revision-required" data-percent="100">
                                                                <span>0</span>%</div>
                                                            <div class="pielabel">Revision Required</div>
                                                        </div>
                                                        
                                                    </div>
                                           <!--End pie-->
                                            
                                            <h1 class="page-title">
                                                <img src="dudeCrop.PNG" width="20" height="20"/>&nbsp;&nbsp;Renewal Total
                                                <span id="renewal_total_count">&nbsp;&nbsp;0</span></h1>
                                           
                                            <div class="box-container">
                                                        <div class="box-holder">
                                                            <div class="pie-new" data-percent="100">
                                                                <span>0</span>%</div>
                                                            <div class="pielabel">New</div>
                                                        </div>
                                                        <div class="box-holder">
                                                            <div class="pie-not-sold" data-percent="100">
                                                                <span>0</span>%</div>
                                                            <div class="pielabel">Not Sold</div>
                                                        </div>
                                                        <div class="box-holder">
                                                            <div class="pie-complete" data-percent="100">
                                                                <span>0</span>%</div>
                                                            <div class="pielabel">Complete</div>
                                                        </div>
                                                        
                                                        
                                                    </div>
                                           <!--End pie-->
                                           
                                           <!--UPPER BOX-->
                                            <div class="box-container">
                                                <!--Box1-->
                                                <div class="box-holder">
                                                    <a href="#">
                                                        <div class="box">
                                                            <div id="newAd">
                                                                
                                                                <span id="new_count">0</span>New
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                <div class="box-holder">
                                                    <a href="#">
                                                        <div class="box">
                                                            <div id="renew">
                                                                <span id="not_sold_count">0</span>Not Sold
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                
                                                <div class="box-holder">
                                                    <a href="#">
                                                        <div class="box">
                                                            <div id="not_renew">
                                                                <span id="complete_count">0</span>Complete
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                
                                                
                                                <!--<div class="box-holder">
                                                    <a href="#">
                                                        <div class="box">
                                                            <div id="deleted">
                                                                <span id="delete_count">0</span>SOMETHING
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>-->
                                            </div><!--END Lower BOX -->
                                            
                                        </div><!--END prod_stat-->
                                        
                                        <!-- ////////////////END renewal STAT//////////////////////-->
                                        
                                        
                                        <!-- ////////////////CLOUDPROOF  STAT/////////////////////////-->
                                        
                                        <!--///CloudProofs Status (
                                        Not Sent, 
                                        Not Yet Viewed, 
                                        Awaiting Approval, 
                                        Changes Requested,
                                        Approved, 
                                        Approved with Changes, 
                                        Auto Approved)///-->
                                        
                                        <div class="cloud_proof_stat" id="cloud_proof_stat_id">
                                            <!--UPPER BOX-->
                                            <div class="box-container">
                                                <!--Box1-->
                                                <div class="box-holder">
                                                    <a href="#">
                                                        <div class="box">
                                                            <div id="newAd">
                                                                
                                                                <span id="not_sent_count">0</span>Not Sent
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                <div class="box-holder">
                                                    <a href="#">
                                                        <div class="box">
                                                            <div id="renew">
                                                                <span id="not_yet_viewed_count">0</span>Not Yet Viewed
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                
                                                <div class="box-holder">
                                                    <a href="#">
                                                        <div class="box">
                                                            <div id="not_renew">
                                                                <span id="cloud_awaiting_approval_count">0</span>Awaiting Approval
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                
                                                <div class="box-holder">
                                                    <a href="#">
                                                        <div class="box">
                                                            <div id="revision">
                                                                <span id="changes_requested_count">0</span>Changes Requested
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                
                                            </div><!--END Lower BOX -->
                                            
                                            <div class="box-container">
                                                        <div class="box-holder">
                                                            <div class="pie-not-sent" data-percent="100">
                                                                <span>0</span>%</div>
                                                            <div class="pielabel">Not Sent</div>
                                                        </div>
                                                        <div class="box-holder">
                                                            <div class="pie-not-yet-viewed" data-percent="100">
                                                                <span>0</span>%</div>
                                                            <div class="pielabel">Not Yet Viewed</div>
                                                        </div>
                                                        <div class="box-holder">
                                                            <div class="pie-cloud-awaiting-approval" data-percent="100">
                                                                <span>0</span>%</div>
                                                            <div class="pielabel">Awaiting Approval</div>
                                                        </div>
                                                        <div class="box-holder">
                                                            <div class="pie-changes-requested" data-percent="100">
                                                                <span>0</span>%</div>
                                                            <div class="pielabel">Changes Requested</div>
                                                        </div>
                                                        
                                                    </div>
                                           <!--End pie-->
                                            
                                            <h1 class="page-title">
                                                <img src="dudeCrop.PNG" width="20" height="20"/>&nbsp;&nbsp;Cloudproof Total
                                                <span id="cloudproof_total_count">&nbsp;0</span>
                                            </h1>
                                           
                                            <div class="box-container">
                                                        <div class="box-holder">
                                                            <div class="pie-cloud-approved" data-percent="100">
                                                                <span>0</span>%</div>
                                                            <div class="pielabel">Approved</div>
                                                        </div>
                                                        <div class="box-holder">
                                                            <div class="pie-approved-w-changes" data-percent="100">
                                                                <span>0</span>%</div>
                                                            <div class="pielabel">Approved with Changes</div>
                                                        </div>
                                                        <div class="box-holder">
                                                            <div class="pie-auto-approved" data-percent="100">
                                                                <span>0</span>%</div>
                                                            <div class="pielabel">Auto Approved</div>
                                                        </div>
                                                        
                                                        
                                                    </div>
                                           <!--End pie-->
                                           
                                           <!--UPPER BOX-->
                                            <div class="box-container">
                                                <!--Box1-->
                                                <div class="box-holder">
                                                    <a href="#">
                                                        <div class="box">
                                                            <div id="newAd">
                                                                
                                                                <span id="cloud_approved_count">0</span>Approved
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                <div class="box-holder">
                                                    <a href="#">
                                                        <div class="box">
                                                            <div id="renew">
                                                                <span id="approved_w_changes_count">0</span>Approved with Changes
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>
                                                
                                                <div class="box-holder">
                                                    <a href="#">
                                                        <div class="box">
                                                            <div id="not_renew">
                                                                <span id="auto_approved_count">0</span>Auto Approved
                                                                <span></span>
                                                            </div>
                                                        </div>
                                                    </a>
                                                </div>

                                            </div><!--END Lower BOX -->
                                            
                                        </div><!--END prod_stat-->
                                        
                                        <!-- ////////////////END RENEWAL STAT//////////////////////-->
                                        
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div id="footer">
                    <div id="railBar"><hr></div>
                    <p class="pull-right" id="footCred">Powered by Yellow Magic &copy; 2013</p>
                </div>
            </div>
        </div>
        </div>
        <script src="js/bootstrap.js"></script>
        <script src="js/easypie/jquery.easy-pie-chart.js"></script>
        <script>

            $('.pie-total-ads').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#d9d9d9',
                barColor: '#ea4e3d'
            });

           ////////////////PRODUCTION STATUS///////////////////////
            $('.pie-no-artwork').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#3da0ea'
            });
            
            $('.pie-not-started').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#ea4e3d'
            });
            $('.pie-art-department').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#ead03d'
            });
            $('.pie-quality-control').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#b93dea'
            });
            $('.pie-proof-gen').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#ea3d6e'
                
            });
            $('.pie-revision').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#623dea'
            });
            $('.pie-awaiting-approval').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#ea793d'
            });
            $('.pie-approval').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#3dea88'
            });
            $('.pie-old-version').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#ea793d'
            });
            $('.pie-bounced').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#3da0ea'
            });
            ////////////////RENEWAL STAT///////////////
            $('.pie-not-determined').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#eaa53d'
            });
            $('.pie-spec-art').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#623dea'
            });
            $('.pie-straight-renewal').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#3dea88'
            });
            $('.pie-revision-required').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#ea4e3d'
            });
            $('.pie-new').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#3da0ea'
            });
            $('.pie-not-sold').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#b93dea'
            });
            $('.pie-complete').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#ead03d'
            });
            
            //////////CLOUDPROOF///////////////////////
            
            $('.pie-not-sent').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#3dea88'
            });
            $('.pie-not-yet-viewed').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#3da0ea'
            });
            $('.pie-cloud-awaiting-approval').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#b93dea'
            });
            $('.pie-changes-requested').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#ead03d'
            });
            $('.pie-cloud-approved').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#623dea'
            });
            $('.pie-approved-w-changes').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#eaa53d'
            });
            $('.pie-auto-approved').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#ea3d6e'
            });
            
            
            
            ///////////////////////////////////////////         
            $('.pie-contract-completed').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#3da0ea'
            });
            $('.pie-contract-completed2').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#dc143c'
            });
            $('.pie-revenue-target').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#3dea44'
            });
            $('.pie-target').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#d71de6'
            });
            $('.pie-sales-canvas').easyPieChart({
                animate: 2000,
                scaleColor: false,
                lineWidth: 12,
                lineCap: 'square',
                size: 100,
                trackColor: '#e5e5e5',
                barColor: '#14d9c3'
            });
        </script>
        <script>
            
            self.setInterval(function(){dataRefresh();},900000);
            
            BOOK = "";
            
            SERVER = "";
            SQL_SERVER = "";
            TEMP_BOOK = "";
            TEMP_INDEX = 0;
            
            SWITCH_STATE = 0;
            BOOKS = [];
            GLOBAL_INDEX = 0;
            REPFIRSTNAME = [];
            NET_CONTRACT = [];

            REP_NAME = [];
            REP_CODE = [];
            
            REP_CODE_LENGTH = 6;
            
            REP_NAME_TOTAL_LIST = [];
            REP_CODE_TOTAL_LIST = [];
            
            REP_NAME_TEMP_LIST = [];
            REP_CODE_TEMP_LIST = [];
            
            REP_INDEX = 0;

            CLOSE_DATE_ARR = [];
            START_DATE_ARR = [];
            
            CLOSE_DATE = "";
            START_DATE = "";
            
            DEFAULT_DATE = "12/30/1899";
            FROM_TODAY = 0;
            TOTAL_COUNT = 0;
            
            TIME = 200;

            //sidebar 
            NOWHERE_COUNT = 0;
            CANVAS_COUNT = 0;
            PROOF_COUNT = 0;
            ADS_COUNT = 0;

            //production
            NO_ART_COUNT = 0;
            NOT_STARTED = 0;
            ART_DEPT = 0;
            QUAL_CONTROL = 0;
            PROOF_GEN = 0;
            AWAITING_APPROVAL = 0;
            REVISION_COUNT = 0;
            APPROVED_COUNT = 0;
            OLD_VERSION_COUNT = 0;
            BOUNCED_COUNT = 0;
            
            //cloud proof
            NOT_SENT = 0;
            NOT_YET_VIEWED = 0;
            CLOUD_AWAITING_APPROVAL = 0;
            CHANGES_REQUESTED = 0;
            CLOUD_APPROVED = 0;
            APPROVED_W_CHANGES = 0;
            AUTO_APPROVED = 0;

            //renewal
            NOT_DET_COUNT = 0;
            SPEC_ART_COUNT = 0;
            STRAIGHT_RENEW_COUNT = 0;
            REVISION_REQ_COUNT = 0;
            NEW_COUNT = 0;
            NOT_SOLD_COUNT = 0;
            COMPLETE_COUNT = 0;
            
            CLICKED = false;

            $(".loading_intro").hide();
            $("#overview_stuff").hide();
            $("#production_stat_id").show();
            $("#cloud_proof_stat_id").hide();
            $("#renewal_stat_id").hide();
            $("#repframe").hide();
                
            $(".atab").click(function() 
            { 
                CLICKED = true;
                SWITCH_STATE = 0;
                dataRefresh();
            });
            $(".btab").click(function() 
            { 
                CLICKED = true;
                SWITCH_STATE = 1;
                dataRefresh();
            });
            $(".ctab").click(function() 
            { 
                CLICKED = true;
                SWITCH_STATE = 2;
                dataRefresh();
            });
            /*$(".dtab").click(function() 
            { 
                CLICKED = true;
                SWITCH_STATE = 3;
                dataRefresh();
            });*/
            /*$(".etab").click(function() 
            { 
                CLICKED = true;
                SWITCH_STATE = 4;
                dataRefresh();
            });*/
            
            $("#bookcombo").change(function() { 
                BOOK = $("#bookcombo").val();
                
                var bi = parseInt($("#bookcombo").prop("selectedIndex"));
                GLOBAL_INDEX = bi;
                REP_INDEX = 0;
                //alert(BOOK + " bi= " + bi);
                call_Reps(BOOK);
                //show_ArtDates();
                //dataRefresh();
            });
            
            $("#repcombo").change(function() 
            {
                    REP = $("#repcombo").val();
                    window.status = REP + " is the rep@@/";
                    //window.status = "index: " + document.getElementById("repcombo").selectedIndex;
                    REP_INDEX = document.getElementById("repcombo").selectedIndex;
                    
                    dataRefresh();
            });
            
            $(".span3").click(function(e) {
                e.preventDefault();
            } );
            
            $(".box-holder").click(function(e) {
                e.preventDefault();
            } );
            
            $('#myTabs a').click(function(e) { 
                e.preventDefault();
                $(this).tab('show');
            });
            $('#refresh_box').click(function(e) {
                e.preventDefault();
                
                dataRefresh();
            });
            
            window.addEventListener("load", function(e) 
            {
                window.status = "START_LOADING";
                if(SERVER === '')
                {
                    SERVER = "ERROR!!!!!";
                }
                $(".loading_intro").hide();
                $("#overview_stuff").hide();
                $("#production_stat_id").show();
                $("#cloud_proof_stat_id").hide();
                $("#renewal_stat_id").hide();
                $("#repframe").hide();

                setTimeout(function() { 
                    call_Books();
                }, TIME);
            });
            
            function dataRefresh()
            {       
                window.status = "REFRESH, CLICKED = " + CLICKED;
                //REP_NAME = [];
                
                REP_SOLD = [];
                BOOKS = [];
                FROM_TODAY = 0;
                NOWHERE_COUNT = 0;
                CANVAS_COUNT = 0;
                PROOF_COUNT = 0;
                ADS_COUNT = 0;

                if(CLICKED === false)
                {
                    
                    window.status = "CLICKED IS FALSE";
                    
                    //USE THE COMMENTED CODE FOR DEMO PURPOSES
                    /*setTimeout(function(){
                    call_CloudProof(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_Renewal(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_Production(BOOK);
                    },TIME);*///TESTING
                    //COMMENT OUT BELOW WHEN DOING DEMO
                    setTimeout(function(){
                        call_ProductionStat(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_CloudProofStat(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_RenewalStat(BOOK);
                    },TIME);
                    
                    
                }
                setTimeout(function(){
                    show_ArtDates();
                },TIME);
                setTimeout(function(){
                    call_getLocationNowhere(BOOK);
                },TIME);
                setTimeout(function(){
                    call_getLocationCanvas(BOOK);
                },TIME);
                setTimeout(function(){
                    call_getLocationProof(BOOK);
                },TIME);
                setTimeout(function(){
                    call_getLocationAds(BOOK);
                },TIME);
                
                if(CLICKED === true)
                {
                    switch(SWITCH_STATE)
                    {
                        case 0: {//Production Status
                                $(".loading_intro").hide();
                                $("#overview_stuff").hide();
                                $("#production_stat_id").show();
                                $("#cloud_proof_stat_id").hide();
                                $("#renewal_stat_id").hide();
                                $("#repframe").hide();
                                CLICKED = false;
                                call_ProductionStat(BOOK);
                                 break;}

                        case 1: {//CloudProofs Status
                                 $("#production_stat_id").hide();
                                 $(".loading_intro").hide();
                                 $("#overview_stuff").hide();
                                 $("#cloud_proof_stat_id").show();
                                 $("#renewal_stat_id").hide();
                                 $("#repframe").hide();
                                 CLICKED = false;
                                 //TESTING/*call_CloudProof(BOOK);*/
                                 call_CloudProofStat(BOOK);

                                 break;}
                        case 2: {//Renewal Status
                                 $(".loading_intro").hide();
                                 $("#production_stat_id").hide();
                                 $("#overview_stuff").hide();
                                 $("#cloud_proof_stat_id").hide();
                                 $("#renewal_stat_id").show();
                                 $("#repframe").hide();
                                 CLICKED = false;
                                 //TESTING/*call_Renewal(BOOK);*/
                                 call_RenewalStat(BOOK);

                                 break;}

                        /*case 3: {//Ads_Per_Graphic_Artist
                                 $(".loading_intro").hide();
                                 $("#production_stat_id").hide();
                                 $("#overview_stuff").hide();
                                 $("#cloud_proof_stat_id").hide();
                                 $("#renewal_stat_id").hide();
                                 $("#repframe").show();
                                 CLICKED = false;
                                 callJSONP_Ads_Per_Graphic_Artist(BOOK);
                                 break;}*/
                         /*case 4: {//Ads_Per_Proofer
                                  $(".loading_intro").hide();
                                  $("#production_stat_id").hide();
                                  $("#overview_stuff").hide();
                                  $("#cloud_proof_stat_id").hide();
                                  $("#renewal_stat_id").hide();
                                  $("#repframe").show();
                                  CLICKED = false;
                                  callJSONP_Ads_Per_Proofer(BOOK);
                                  break;}*/

                        default:{//show loading
                                 $(".loading_intro").show();
                                 $("#production_stat_id").hide();
                                 $("#overview_stuff").hide();
                                 $("#repframe").hide();
                                 $("#renewal_stat_id").hide();
                                 CLICKED = false;
                                 call_Loading();

                                 break;}
                    }
                }
            }
            
            //--- Books ---
            function call_Books()
            {
                var today = new Date();
                var highDate = new Date();
                var lowDate = new Date();
                
                highDate.setDate( today.getDate() + 730);
                lowDate.setDate( today.getDate() - 730);
                
                var dateStr = lowDate.getFullYear() + ", 01, 01";

                var url = "http://" + SERVER + "/" +
                        
                        "select BOOK.book, BOOK.canstart, BOOK.artclose "+
                        "from book where BOOK.date > DATE("+ dateStr +") order by book";

                var script = document.createElement('script');
                script.setAttribute('src', url + "?callback=jsonp_Books");
                document.getElementsByTagName('head')[0].appendChild(script);

            }

            function jsonp_Books(response)
            {
                var dataEntry = [];
                try
                {  
                    BOOKS = [];
                    
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];

                        BOOKS.push(dataEntry.book);
 window.status = "looking..." + dataEntry.book + "." + TEMP_BOOK+".";
                        if(dataEntry.book === TEMP_BOOK)
                        {
                            window.status = "found a match";
                            TEMP_INDEX = i;
                        }                       
                        CLOSE_DATE_ARR.push(dataEntry.artclose);
                        START_DATE_ARR.push(dataEntry.canstart);

                        $('#bookcombo').append($('<option/>').attr("value", dataEntry.book).text(dataEntry.book));

                    }
                    dataEntry = [];
                                 
                    GLOBAL_INDEX = TEMP_INDEX;
                    document.getElementById("bookcombo").selectedIndex = TEMP_INDEX;
                    
                    BOOK = BOOKS[TEMP_INDEX];
                    //window.status = "BOOK=" + BOOK;
                    //show_ArtDates();
                    on_Loading_Data();
                    
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('index2Something bad happened: ' + an_exception);
                }
            
            }

            /***********************************************
             * Called from jsonp_Books(response) during the 
             * initial loading. 
             **********************************************/
            function on_Loading_Data()
            { 
                /***************************************************************
                 * ADDED THIS SECTION BECAUSE I NEEDED A WAY TO LOAD THE REP 
                 * INFO WITH OUT MESSING UP THE REFRESH FUNCTION. 
                 **************************************************************/
                var url = "http://" + SERVER + "/" +
                        "select sale,last,first from employee "
                        +"WHERE (EMPLOYEE.empltype = 7 or EMPLOYEE.empltype = 10)"; 

                var script = document.createElement('script');
                script.setAttribute('src', url + "?callback=jsonp_on_Loading_Data_All_Reps");
                document.getElementsByTagName('head')[0].appendChild(script);
                
            }
            
            //populate a "total" complete list of names and ID#.
            //populate a "temp" list of ID#'s for the current book.
            //get the first and last name of each rep on the "temp" list from the "total"
            //add the "unknown GA and QC"
            function jsonp_on_Loading_Data_All_Reps(response)
            {   
                var dataEntry = [];
                
                try
                {
                    REP_NAME_TOTAL_LIST = [];
                    REP_CODE_TOTAL_LIST = [];

                    
                    var len = response.result.length;
                    
                    //Populate a list of all the names of GA and QC: code, last, first
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];

                        REP_NAME_TOTAL_LIST.push(dataEntry.first + " " + dataEntry.last);
                        REP_CODE_TOTAL_LIST.push(dataEntry.sale);          
                    }
                    
                    dataEntry = [];
                    
                    on_Loading_Data_GA();

                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('index3Something bad happened: ' + an_exception);
                }

            }
            
            function on_Loading_Data_GA()
            { 
                var url = "http://" + SERVER + "/" +
                        "select DISTINCT tblAdNumber.bookorproduct, tblAdGraphic.empcodega "+
                        "as REPCODE FROM tblAdGraphic, tblAdNumber "+
                        "WHERE tblAdNumber.bookorproduct = '" + BOOK +
                        "' AND tblAdNumber.id = tblAdGraphic.adnumberid "+
                        "ORDER BY tblAdGraphic.empcodega";
                
                
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_on_Loading_Data_GA");
                document.getElementsByTagName('head')[0].appendChild(script);
                
            }
            
            function jsonp_on_Loading_Data_GA(response)
            {
                var dataEntry = [];
                
                try
                {
                    //Don't delete this array in the QC function. 
                    //Need to append list of QC's to GA's.
                    REP_CODE_TEMP_LIST = [];
                   
                    var len = response.result.length;
                    //Populate the temp list of repcodes.
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        REP_CODE_TEMP_LIST.push(dataEntry.REPCODE);
                        
                        while(REP_CODE_TEMP_LIST[i].length < REP_CODE_LENGTH)
                        {
                            REP_CODE_TEMP_LIST[i] = REP_CODE_TEMP_LIST[i] + " ";
                        }
                        
                    }
                    
                    on_Loading_Data_QC();
                }
                catch(an_exception)
                {
                    window.status = "ERROR: In GA " + an_exception;
                    alert('index3.2 Something bad happened: ' + an_exception);
                }
                
            }
            
            function on_Loading_Data_QC()
            {
                var url = "http://" + SERVER + "/" +
                        "select DISTINCT tblAdNumber.bookorproduct, tblAdGraphic.empcodeqc "+
                        "as REPCODE FROM tblAdGraphic, tblAdNumber "+
                        "WHERE tblAdNumber.bookorproduct = '" + BOOK +
                        "' AND tblAdNumber.id = tblAdGraphic.adnumberid "+
                        "ORDER BY tblAdGraphic.empcodeqc";
                
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_on_Loading_Data_QC");
                document.getElementsByTagName('head')[0].appendChild(script);
                
            }
            
            function jsonp_on_Loading_Data_QC(response)
            {
                var dataEntry = [];
                
                try
                {
                    //Don't delete this array in the QC function. 
                    //Need to append list of QC's to GA's.
                    var len = response.result.length;
                    //Populate the temp list of repcodes.
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        
                        REP_CODE_TEMP_LIST.push(dataEntry.REPCODE);
                        
                        while(REP_CODE_TEMP_LIST[i].length < REP_CODE_LENGTH)
                        {
                            REP_CODE_TEMP_LIST[i] = REP_CODE_TEMP_LIST[i] + " ";
                        }
                    }
                    
                    //Start the sorting of repcodes from total and temp lists
                    //Populate the REP_CODE and REP_NAME arrays.
                    REP_NAME = [];
                    REP_CODE = [];

                    //Need this for the "All" in #repcode
                    REP_NAME.push("All");
                    REP_CODE.push("      ");
                    
                    for(var i = 0; i < REP_CODE_TEMP_LIST.length; i++)
                    {
                        for(var j = 0; j < REP_CODE_TOTAL_LIST.length; j++)
                        {
                            if(REP_CODE_TEMP_LIST[i] === REP_CODE_TOTAL_LIST[j])
                            {
                                window.status = "GOT IT!!";
                                REP_CODE.push(REP_CODE_TOTAL_LIST[j]);
                                REP_NAME.push(REP_NAME_TOTAL_LIST[j]);
                                
                                $('#repcombo').append($('<option/>').attr("value", dataEntry.first)
                                .text(REP_NAME_TOTAL_LIST[j]));
                            }
                        }
                    }
                    
                    REP_NAME.push("Unknown GA");
                    REP_CODE.push("      ");
                    REP_NAME.push("Unknown QC");
                    REP_CODE.push("      ");
                    $('#repcombo').append($('<option/>').attr("value", "Unknown GA")
                                .text("Unknown GA"));
                    $('#repcombo').append($('<option/>').attr("value", "Unknown QC")
                                .text("Unknown QC"));
                       
                    window.status = "after combo box set";
                    
                    dataRefresh();
                    /*setTimeout(function(){
                        show_ArtDates();
                    },TIME); 
                    setTimeout(function(){
                        call_ProductionStat(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_getLocationNowhere(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_getLocationCanvas(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_getLocationProof(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_getLocationAds(BOOK);
                    },TIME);*/
                }
                catch(an_exception)
                {
                    window.status = "ERROR: In QC " + an_exception;
                    alert('index3.2 Something bad happened: ' + an_exception);
                }
                
            }
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////call_Reps UNDER CONSTRUCTION///////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            function call_Reps(book)
            { /*select sale,last,first from employee WHERE EMPLOYEE.empltype = 7 or EMPLOYEE.empltype = 10 */
                /*var url = "http://" + SERVER + "/" +
                        "select sale,last,first from employee "
                        +"WHERE EMPLOYEE.empltype = 7 or EMPLOYEE.empltype = 10"; 
                        

                var script = document.createElement('script');
                script.setAttribute('src', url + "?callback=jsonp_Reps");
                document.getElementsByTagName('head')[0].appendChild(script);*/
                /*$('#repcombo').empty();
                $('#repcombo').append($('<option/>').attr("value", "ALL").text("All"));*/
        
                var url = "http://" + SERVER + "/" +
                        "select DISTINCT tblAdNumber.bookorproduct, tblAdGraphic.empcodega "+
                        "as REPCODE FROM tblAdGraphic, tblAdNumber "+
                        "WHERE tblAdNumber.bookorproduct = '" + BOOK +
                        "' AND tblAdNumber.id = tblAdGraphic.adnumberid "+
                        "ORDER BY tblAdGraphic.empcodega";
                
                
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_Reps_GA");
                document.getElementsByTagName('head')[0].appendChild(script);
                
            }

            function jsonp_Reps_GA(response)
            {
                var dataEntry = [];
                
                try
                {
                    //Don't delete this array in the QC function. 
                    //Need to append list of QC's to GA's.
                    REP_CODE_TEMP_LIST = [];
                   
                    var len = response.result.length;
                    //Populate the temp list of repcodes.
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        REP_CODE_TEMP_LIST.push(dataEntry.REPCODE);
                        
                        while(REP_CODE_TEMP_LIST[i].length < REP_CODE_LENGTH)
                        {
                            REP_CODE_TEMP_LIST[i] = REP_CODE_TEMP_LIST[i] + " ";
                        }
                        
                    }
                    
                    call_Reps_QC();
                }
                catch(an_exception)
                {
                    window.status = "ERROR: " + an_exception;
                    alert('index3.2 Something bad happened: ' + an_exception);
                }
                
            }
            
            function call_Reps_QC()
            {
                var url = "http://" + SERVER + "/" +
                        "select DISTINCT tblAdNumber.bookorproduct, tblAdGraphic.empcodeqc "+
                        "as REPCODE FROM tblAdGraphic, tblAdNumber "+
                        "WHERE tblAdNumber.bookorproduct = '" + BOOK +
                        "' AND tblAdNumber.id = tblAdGraphic.adnumberid "+
                        "ORDER BY tblAdGraphic.empcodeqc";
                
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_Reps_QC");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_Reps_QC(response)
            {
                var dataEntry = [];
                
                try
                {
                    //Don't delete this array in the QC function. 
                    //Need to append list of QC's to GA's.
                    var len = response.result.length;
                    //Populate the temp list of repcodes.
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        
                        REP_CODE_TEMP_LIST.push(dataEntry.REPCODE);
                        
                        while(REP_CODE_TEMP_LIST[i].length < REP_CODE_LENGTH)
                        {
                            REP_CODE_TEMP_LIST[i] = REP_CODE_TEMP_LIST[i] + " ";
                        }
                    }
                    $('#repcombo').empty();
                    $('#repcombo').append($('<option/>').attr("value", "ALL").text("All"));
                    
                    //Start the sorting of repcodes from total and temp lists
                    //Populate the REP_CODE and REP_NAME arrays.
                    REP_NAME = [];
                    REP_CODE = [];

                    //Need this for the "All" in #repcode
                    REP_NAME.push("All");
                    REP_CODE.push("      ");
                    
                    for(var i = 0; i < REP_CODE_TEMP_LIST.length; i++)
                    {
                        for(var j = 0; j < REP_CODE_TOTAL_LIST.length; j++)
                        {
                            if(REP_CODE_TEMP_LIST[i] === REP_CODE_TOTAL_LIST[j])
                            {
                                window.status = "GOT IT!!";
                                REP_CODE.push(REP_CODE_TOTAL_LIST[j]);
                                REP_NAME.push(REP_NAME_TOTAL_LIST[j]);
                                
                                $('#repcombo').append($('<option/>').attr("value", REP_NAME_TOTAL_LIST[j])
                                .text(REP_NAME_TOTAL_LIST[j]));
                            }
                        }
                    }
                    
                    REP_NAME.push("Unknown GA");
                    REP_CODE.push("      ");
                    REP_NAME.push("Unknown QC");
                    REP_CODE.push("      ");
                    $('#repcombo').append($('<option/>').attr("value", "Unknown GA")
                                .text("Unknown GA"));
                    $('#repcombo').append($('<option/>').attr("value", "Unknown QC")
                                .text("Unknown QC"));
                        
                    show_ArtDates();
                    dataRefresh();

                }
                catch(an_exception)
                {
                    alert('index3.2 Something bad happened: ' + an_exception);
                }
            }

            /*function jsonp_Reps(response)
            {
                var dataEntry = [];
                
                try
                {
                    REP_NAME = [];
                    REP_CODE = [];

                    REP_CODE.push("      ");
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];

                        REP_NAME.push(dataEntry.last + " - " + dataEntry.first);
                        REP_CODE.push(dataEntry.sale);
                        window.status = dataEntry.sale;
                        $('#repcombo').append($('<option/>').attr("value", dataEntry.first)
                                .text(dataEntry.first + " " + dataEntry.last));
                    }
                    REP_NAME.push("Unknown GA");
                    REP_CODE.push("");
                    REP_NAME.push("Unknown QC");
                    REP_CODE.push("");
                    
                    dataEntry = [];
                    //window.status = "IN REPS: " + REP_CODE.length;
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('index3Something bad happened: ' + an_exception);
                }

            }*/
            
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////call_Reps UNDER CONSTRUCTION///////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////            

            ///////////////////////////ADS PER GRAPH ART////////////////////////
            function callJSONP_Ads_Per_Graphic_Artist(book)
            {
               /*$(repframe).ready(function()
               {
                 var plot1 = $('.chartholder').jqplot ( [[3,7,9,1,4,6,8,2,5]]);
               });*/
              
               $(repframe).ready(function()
               {
                    $('.chartholder').jqplot([[3, 14, 15, 9, 26, 5, 35, 8, 9, 7,
                            9, 32, 38, 46, 26, 43, 38, 32, 7, 9, 50, 28]], {
                        title: 'Sales Reps Progress',
                        highlighter: {
                            show: true,
                            sizeAdjust: 0,
                            tooltipLocation: 'n',
                            tooltipAxes: 'y',
                            //tooltipFormatString: '<b><i><span style="color:red;"></span></i></b> $%.0fK',
                            useAxesFormatters: false
                        },
                        // The "seriesDefaults" option is an options object that will
                        // be applied to all series in the chart.
                        seriesDefaults: {
                            renderer: $.jqplot.BarRenderer,
                            rendererOptions: {
                                fillToZero: true,
                                varyBarColor: true
                            }
                        },
                        // Custom labels for the series are specified with the "label"
                        // option on the series option.  Here a series option object
                        // is specified for each series.
                        series: [
                            {label: '&nbsp;'}
                        ],
                        // Show the legend and put it outside the grid, but inside the
                        // plot container, shrinking the grid to accomodate the legend.
                        // A value of "outside" would not shrink the grid and allow
                        // the legend to overflow the container.
                        legend: {
                            show: true,
                            placement: 'outsideGrid'
                        },
                        axes: 
                        {
                            // Use a category axis on the x axis and use our custom ticks.
                            xaxis: {
                                renderer: $.jqplot.CategoryAxisRenderer,
                                //ticks: ticks,
                                rendererOptions: {
                                    tickRenderer: $.jqplot.CanvasAxisTickRenderer},
                                tickOptions: {
                                    formatString: '$%d',
                                    fontSize: '10pt',
                                    fontFamily: 'Tahoma',
                                    angle: 30
                                }
                            },
                            // Pad the y axis just a little so bars can get close to, but
                            // not touch, the grid boundaries.  1.2 is the default padding.
                            yaxis: {
                                pad: 1.05,
                                rendererOptions: {
                                    tickRenderer: $.jqplot.CanvasAxisTickRenderer},
                                tickOptions: {
                                    formatString: '%d  ',
                                    fontSize: '10pt',
                                    fontFamily: 'Tahoma',
                                    angle: 0
                                }
                            }
                        }
                    });

                    });
        
            }
            
            
            ////////////////////////////////////////////////////////////////////
            //3.141592653589793238462643383279502884197169399375105820974944592307816406286
            
            ///////////////////////ADS PER PROFFER//////////////////////////////
            function callJSONP_Ads_Per_Proofer(book)
            {
                $(repframe).ready(function()
               {
                    $('.chartholder').jqplot([[31,41,5,9,26,53,5,8,9,7,9,32,38,46,26,43,38,32,7,9,50,28]], {
                        title: 'Sales Reps Progress',
                        highlighter: {
                            show: true,
                            sizeAdjust: 0,
                            tooltipLocation: 'n',
                            tooltipAxes: 'y',
                            //tooltipFormatString: '<b><i><span style="color:red;"></span></i></b> $%.0fK',
                            useAxesFormatters: false
                        },
                        // The "seriesDefaults" option is an options object that will
                        // be applied to all series in the chart.
                        seriesDefaults: {
                            renderer: $.jqplot.BarRenderer,
                            rendererOptions: {
                                fillToZero: true,
                                varyBarColor: true
                            }
                        },
                        // Custom labels for the series are specified with the "label"
                        // option on the series option.  Here a series option object
                        // is specified for each series.
                        series: [
                            {label: '&nbsp;'}
                        ],
                        // Show the legend and put it outside the grid, but inside the
                        // plot container, shrinking the grid to accomodate the legend.
                        // A value of "outside" would not shrink the grid and allow
                        // the legend to overflow the container.
                        legend: {
                            show: true,
                            placement: 'outsideGrid'
                        },
                        axes: 
                        {
                            // Use a category axis on the x axis and use our custom ticks.
                            xaxis: {
                                renderer: $.jqplot.CategoryAxisRenderer,
                                //ticks: ticks,
                                rendererOptions: {
                                    tickRenderer: $.jqplot.CanvasAxisTickRenderer},
                                tickOptions: {
                                    formatString: '$%d',
                                    fontSize: '10pt',
                                    fontFamily: 'Tahoma',
                                    angle: 30
                                }
                            },
                            // Pad the y axis just a little so bars can get close to, but
                            // not touch, the grid boundaries.  1.2 is the default padding.
                            yaxis: {
                                pad: 1.05,
                                rendererOptions: {
                                    tickRenderer: $.jqplot.CanvasAxisTickRenderer},
                                tickOptions: {
                                    formatString: '%d  ',
                                    fontSize: '10pt',
                                    fontFamily: 'Tahoma',
                                    angle: 0
                                }
                            }
                        }
                    });

                    });
                
            }
            ////tblAdNumber.id = tblAdGraphic.adnumberid
 
            ////////////////////////////////////////////////////////////////////
            /***************************************
             * Controls the No Artwork box and wheel
             ***************************************/
            function call_ProductionStat_NoArt(book)
            {
                window.status = "IN NOART " + REP_INDEX + " " + REP_CODE.length + 
                        "::" + book + "::" + REP_CODE[REP_INDEX]+"::";
                var rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + 
                                  "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as noart FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid and " +
                          "tblAdGraphic.productionstatus = 0";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_ProductionStat_NoArt");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_ProductionStat_NoArt(response)
            {
                var dataEntry = [];
                window.status = "in no art response";
                NO_ART_COUNT = 0;
                
                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        NO_ART_COUNT = dataEntry.noart;
                    }
                    dataEntry = [];
                    
                    $('.pie-no-artwork').data('easyPieChart').update(100);
                    $('span', '.pie-no-artwork').text(100);
                    $("#no_artwork_count").html(0);
                    
                    var num = Math.round((NO_ART_COUNT/TOTAL_COUNT) * 100);
                    /*var num = NO_ART_COUNT/TOTAL_COUNT;
                    num = num * 10;
                    num = Math.round(num);
                    num = num * 10;*/
                    if( isNaN(num) || typeof num === 'undefined' )
                    {
                        num = 0;
                    }
                    
                    $('#no_artwork_count').html(NO_ART_COUNT);
                    $('.pie-no-artwork').data('easyPieChart').update(num);
                    $('span', '.pie-no-artwork').text(num);
                    
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }
            
            /***************************************
             * Controls the Not Started box and wheel
             ***************************************/
            function call_ProductionStat_NotStarted(book)
            {
                window.status = "in notstart " + REP_INDEX + " " + REP_CODE.length + " " + book+ " ::" + REP_CODE[REP_INDEX]+"::";
                var rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    //rep_request = "empcodega=" + REP_CODE[REP_INDEX] + " and ";
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as noart FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid and " +
                          "tblAdGraphic.productionstatus = 1";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_ProductionStat_NotStarted");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_ProductionStat_NotStarted(response)
            {
                var dataEntry = [];
                window.status = "in not start response";
                NOT_STARTED = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        NOT_STARTED = dataEntry.noart;
                    }
                    dataEntry = [];
                    
                    $('.pie-not-started').data('easyPieChart').update(100);
                    $('span', '.pie-not-started').text(100);
                    $("#prod_not_started_count").html(0);
                    
                    var num = Math.round((NOT_STARTED/TOTAL_COUNT) * 100);
                    /*var num = NOT_STARTED/TOTAL_COUNT;
                    num = num * 10;
                    num = Math.round(num);
                    num = num * 10;*/
                    
                    if( isNaN(num) || typeof num === 'undefined' )
                    {
                        num = 0;
                    }
                    $('#prod_not_started_count').html(NOT_STARTED);
                    $('.pie-not-started').data('easyPieChart').update(num);
                    $('span', '.pie-not-started').text(num);
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }

            /***************************************
             * Controls the Not Started box and wheel
             ***************************************/
            function call_ProductionStat_ArtDept(book)
            {
                window.status = "in artdept " + REP_INDEX + " " + REP_CODE.length + " " + book + " ::" + REP_CODE[REP_INDEX]+"::";
                var rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    //rep_request = "empcodega=" + REP_CODE[REP_INDEX] + " and ";
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as artdept FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid and " +
                          "tblAdGraphic.productionstatus = 2";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_ProductionStat_ArtDept");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_ProductionStat_ArtDept(response)
            {
                var dataEntry = [];
                window.status = "in artdept response";
                ART_DEPT = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        ART_DEPT = dataEntry.artdept;
                    }
                    dataEntry = [];
                    
                    $('.pie-art-department').data('easyPieChart').update(100);
                    $('span', '.pie-art-department').text(100);
                    $("#prod_art_dept_count").html(0);
                
                    var num = Math.round((ART_DEPT/TOTAL_COUNT) * 100);
                    /*var num = ART_DEPT/TOTAL_COUNT;
                    num = num * 10;
                    num = Math.round(num);
                    num = num * 10;*/
                    
                    if( isNaN(num) || typeof num === 'undefined' )
                    {
                        num = 0;
                    }
                    $('#prod_art_dept_count').html(ART_DEPT);
                    $('.pie-art-department').data('easyPieChart').update(num);
                    $('span', '.pie-art-department').text(num);
                    
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }
            
            
            /***************************************
             * Controls the Quality Control box and wheel
             ***************************************/
            function call_ProductionStat_QualCont(book)
            {
                window.status = "in qual con " + REP_INDEX + " " + REP_CODE.length + " " + book + " ::" + REP_CODE[REP_INDEX]+"::";
                var rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    //rep_request = "empcodega=" + REP_CODE[REP_INDEX] + " and ";
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as qualcont FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid and " +
                          "tblAdGraphic.productionstatus = 3";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_ProductionStat_QualCont");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_ProductionStat_QualCont(response)
            {
                var dataEntry = [];
                window.status = "in qual con response";
                QUAL_CONTROL = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        QUAL_CONTROL = dataEntry.qualcont;
                    }
                    dataEntry = [];
                    
                    $('.pie-quality-control').data('easyPieChart').update(100);
                    $('span', '.pie-quality-control').text(100);
                    $("#prod_quality_control_count").html(0);
                
                    var num = Math.round((QUAL_CONTROL/TOTAL_COUNT) * 100);
                    /*var num = QUAL_CONTROL/TOTAL_COUNT;
                    num = num * 10;
                    num = Math.round(num);
                    num = num * 10;*/
                    
                    if( isNaN(num) || typeof num === 'undefined' )
                    {
                        num = 0;
                    }
                    $('#prod_quality_control_count').html(QUAL_CONTROL);
                    $('.pie-quality-control').data('easyPieChart').update(num);
                    $('span', '.pie-quality-control').text(num);
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }
            
            /***************************************
             * Controls the Not Started box and wheel
             ***************************************/
            function call_ProductionStat_ProofGen(book)
            {
                window.status = "in proof gen " + REP_INDEX + " " + REP_CODE.length + " " + book + " ::" + REP_CODE[REP_INDEX]+"::";
                var rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as proofgen FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid and " +
                          "tblAdGraphic.productionstatus = 4";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_ProductionStat_ProofGen");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_ProductionStat_ProofGen(response)
            {
                var dataEntry = [];
                window.status = "in proofgen response";
                PROOF_GEN = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        PROOF_GEN = dataEntry.proofgen;
                    }
                    dataEntry = [];
                    
                    $('.pie-proof-gen').data('easyPieChart').update(100);
                    $('span', '.pie-proof-gen').text(100);
                    $("#prod_proof_gen_count").html(0);

                    var num = Math.round((PROOF_GEN/TOTAL_COUNT) * 100);
                    /*var num = PROOF_GEN/TOTAL_COUNT;
                    num = num * 10;
                    num = Math.round(num);
                    num = num * 10;*/
                    
                    if( isNaN(num) || typeof num === 'undefined' )
                    {
                        num = 0;
                    }
                    $('#prod_proof_gen_count').html( PROOF_GEN );
                    $('.pie-proof-gen').data('easyPieChart').update(num);
                    $('span', '.pie-proof-gen').text(num);
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }
            
            /***************************************
             * Controls the Not Started box and wheel
             ***************************************/
            function call_ProductionStat_Revision(book)
            {
                window.status = "in revision " + REP_INDEX + " " + REP_CODE.length + " " + book + " ::" + REP_CODE[REP_INDEX]+"::";
                var rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    //rep_request = "empcodega=" + REP_CODE[REP_INDEX] + " and ";
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as revision FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid and " +
                          "tblAdGraphic.productionstatus = 5";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_ProductionStat_Revision");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_ProductionStat_Revision(response)
            {
                var dataEntry = [];
                window.status = "in revision response";
                REVISION_COUNT = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        REVISION_COUNT = dataEntry.revision;
                    }
                    dataEntry = [];
                    
                    $('.pie-revision').data('easyPieChart').update(100);
                    $('span', '.pie-revision').text(100);
                    $("#prod_revision_count").html(0);
                    
                    var num = Math.round( (REVISION_COUNT/TOTAL_COUNT) * 100 );
                    /*var num = REVISION_COUNT/TOTAL_COUNT;
                    num = num * 10;
                    num = Math.round(num);
                    num = num * 10;*/
                    
                    if( isNaN(num) || typeof num === 'undefined' )
                    {
                        num = 0;
                    }
                    $('#prod_revision_count').html( REVISION_COUNT );
                    $('.pie-revision').data('easyPieChart').update(num);
                    $('span', '.pie-revision').text(num);
                    
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }
            
            
            /***************************************
             * Controls the Not Started box and wheel
             ***************************************/
            function call_ProductionStat_AwaitingApproval(book)
            {
                window.status = "in AA " + REP_INDEX + " " + REP_CODE.length + " " + book + " ::" + REP_CODE[REP_INDEX]+"::";
                var rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    //rep_request = "empcodega=" + REP_CODE[REP_INDEX] + " and ";
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as count FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid and " +
                          "tblAdGraphic.productionstatus = 6";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_ProductionStat_AwaitingApproval");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_ProductionStat_AwaitingApproval(response)
            {
                var dataEntry = [];
                window.status = "in AA response";
                AWAITING_APPROVAL = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        AWAITING_APPROVAL = dataEntry.count;
                    }
                    dataEntry = [];
                    
                    $('.pie-awaiting-approval').data('easyPieChart').update(100);
                    $('span', '.pie-awaiting-approval').text(100);
                    $("#awaiting_approval_count").html(0);

                    var num = Math.round( (AWAITING_APPROVAL/TOTAL_COUNT) * 100 );
                    /*var num = AWAITING_APPROVAL/TOTAL_COUNT;
                    num = num * 10;
                    num = Math.round(num);
                    num = num * 10;*/
                    
                    if( isNaN(num) || typeof num === 'undefined' )
                    {
                        num = 0;
                    }
                    $('#awaiting_approval_count').html( AWAITING_APPROVAL );
                    $('.pie-awaiting-approval').data('easyPieChart').update(num);
                    $('span', '.pie-awaiting-approval').text(num);
                    
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }
            
            
            /***************************************
             * Controls the Not Started box and wheel
             ***************************************/
            function call_ProductionStat_Approved(book)
            {
                window.status = "in A " + REP_INDEX + " " + REP_CODE.length + " " + book + " ::" + REP_CODE[REP_INDEX]+"::";
                var rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    //rep_request = "empcodega=" + REP_CODE[REP_INDEX] + " and ";
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as count FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid and " +
                          "tblAdGraphic.productionstatus = 7";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_ProductionStat_Approved");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_ProductionStat_Approved(response)
            {
                var dataEntry = [];
                window.status = "in A response";
                APPROVED_COUNT = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        APPROVED_COUNT = dataEntry.count;
                    }
                    dataEntry = [];
                    
                    $('.pie-approval').data('easyPieChart').update(100);
                    $('span', '.pie-approval').text(100);
                    $("#approved_count").html(0);

                    var num = Math.round( (APPROVED_COUNT/TOTAL_COUNT) * 100);
                    /*var num = APPROVED_COUNT/TOTAL_COUNT;
                    num = num * 10;
                    num = Math.round(num);
                    num = num * 10;*/
                    
                    if( isNaN(num) || typeof num === 'undefined' )
                    {
                        num = 0;
                    }
                    $('#approved_count').html( APPROVED_COUNT );
                    $('.pie-approval').data('easyPieChart').update(num);
                    $('span', '.pie-approval').text(num);
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }
            //////////////////////////////////////////////////////////////////////////////////////////////////////////////////
            /***************************************
             * Controls the Not Started box and wheel
             ***************************************/
            function call_ProductionStat_OldVersion(book)
            {
                window.status = "in A " + REP_INDEX + " " + REP_CODE.length + " " + book + " ::" + REP_CODE[REP_INDEX]+"::";
                var rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    //rep_request = "empcodega=" + REP_CODE[REP_INDEX] + " and ";
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as count FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid and " +
                          "tblAdGraphic.productionstatus = 8";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_ProductionStat_OldVersion");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_ProductionStat_OldVersion(response)
            {
                var dataEntry = [];
                window.status = "in A response";
                OLD_VERSION_COUNT = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        OLD_VERSION_COUNT = dataEntry.count;
                    }
                    dataEntry = [];
                    
                    $('.pie-old-version').data('easyPieChart').update(100);
                    $('span', '.pie-old-version').text(100);
                    $("#old-version_count").html(0);

                    var num = Math.round( (OLD_VERSION_COUNT/TOTAL_COUNT) * 100);
                    /*var num = APPROVED_COUNT/TOTAL_COUNT;
                    num = num * 10;
                    num = Math.round(num);
                    num = num * 10;*/
                    
                    if( isNaN(num) || typeof num === 'undefined' )
                    {
                        num = 0;
                    }
                    $('#old_version_count').html( OLD_VERSION_COUNT );
                    $('.pie-old-version').data('easyPieChart').update(num);
                    $('span', '.pie-old-version').text(num);
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }
            ///////////////////////////////////////////////////////////////////////////////////////////////////////////
            /***************************************
             * Controls the Not Started box and wheel
             ***************************************/
            function call_ProductionStat_Bounced(book)
            {
                window.status = "in A " + REP_INDEX + " " + REP_CODE.length + " " + book + " ::" + REP_CODE[REP_INDEX]+"::";
                var rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    //rep_request = "empcodega=" + REP_CODE[REP_INDEX] + " and ";
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as count FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid and " +
                          "tblAdGraphic.productionstatus = 9";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_ProductionStat_Bounced");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_ProductionStat_Bounced(response)
            {
                var dataEntry = [];
                window.status = "in A response";
                BOUNCED_COUNT = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        BOUNCED_COUNT = dataEntry.count;
                    }
                    dataEntry = [];
                    
                    $('.pie-bounced').data('easyPieChart').update(100);
                    $('span', '.pie-bounced').text(100);
                    $("#bounced_count").html(0);

                    var num = Math.round( (BOUNCED_COUNT/TOTAL_COUNT) * 100);
                    /*var num = APPROVED_COUNT/TOTAL_COUNT;
                    num = num * 10;
                    num = Math.round(num);
                    num = num * 10;*/
                    
                    if( isNaN(num) || typeof num === 'undefined' )
                    {
                        num = 0;
                    }
                    $('#bounced_count').html( BOUNCED_COUNT );
                    $('.pie-bounced').data('easyPieChart').update(num);
                    $('span', '.pie-bounced').text(num);
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }
            ////////////////////////////////////////////////////////////////////////////////////////////////////////
            /***************************************
             * Controls the Not Started box and wheel
             ***************************************/
            function call_ProductionStat_Total(book)
            {
                window.status = "in total " + REP_INDEX + " " + REP_CODE.length + " " + book + " ::" + REP_CODE[REP_INDEX]+"::";
                var rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    //rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + "' or tblAdGraphic.empcodeqc='" + REP_CODE[REP_INDEX] + "') ";
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as count FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_ProductionStat_Total");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_ProductionStat_Total(response)
            {
                var dataEntry = [];
                window.status = "in total response";
                //alert("in resp");
                TOTAL_COUNT = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        TOTAL_COUNT = dataEntry.count;
                    }
                    dataEntry = [];
window.status = "total count " + TOTAL_COUNT;
                    $('#production_total_count').html( TOTAL_COUNT );
                    
                    setTimeout(function(){
                        call_ProductionStat_NoArt(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_ProductionStat_NotStarted(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_ProductionStat_ArtDept(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_ProductionStat_QualCont(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_ProductionStat_ProofGen(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_ProductionStat_Revision(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_ProductionStat_AwaitingApproval(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_ProductionStat_Approved(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_ProductionStat_OldVersion(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_ProductionStat_Bounced(BOOK);
                    },TIME);
                    
                    
                    /*call_ProductionStat_NoArt(BOOK);
                    call_ProductionStat_NotStarted(BOOK);
                    call_ProductionStat_ArtDept(BOOK);
                    call_ProductionStat_QualCont(BOOK);
                    call_ProductionStat_ProofGen(BOOK);
                    call_ProductionStat_Revision(BOOK);
                    call_ProductionStat_AwaitingApproval(BOOK);
                    call_ProductionStat_Approved(BOOK);*/
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }
            
            ///////////////////////PRODUCTION STAT//////////////////////////////   
            function call_ProductionStat(book)
            {
                call_ProductionStat_Total(BOOK);                    
            }
            
///////////////////////////////////////END HERE/////////////////////////////////////////////////////////



////////////////////////////////////////////////////////////////////////////////////////////////////////////
            /***************************************
             * Controls the No Artwork box and wheel
             ***************************************/
            function call_CloudProofStat_NotSent(book)
            {
                var rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as counter FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid and " +
                          "tblAdGraphic.cloudproofsstatus = 0";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_CloudProofStat_NotSent");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_CloudProofStat_NotSent(response)
            {
                var dataEntry = [];
                NOT_SENT = 0;
                
                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        NOT_SENT = dataEntry.counter;
                    }
                    dataEntry = [];
                    //alert(NOT_SENT + " NOTSENT");
                    $('.pie-not-sent').data('easyPieChart').update(100);
                    $('span', '.pie-not-sent').text(100);
                    $("#not_sent_count").html(0);
                    
                    //var num = Math.round((NOT_SENT/TOTAL_COUNT) * 100);
                    window.status ="IN NOT SENT:##" + NOT_SENT + " " + TOTAL_COUNT+ "##";
                    var num = NOT_SENT/TOTAL_COUNT;
                    num = num * 100;
                    num = Math.round(num);
                    //alert(num);
                    if( isNaN(num) || typeof num === 'undefined' )
                    {
                        num = 0;
                    }
                    
                    $('#not_sent_count').html(NOT_SENT);
                    $('.pie-not-sent').data('easyPieChart').update(num);
                    $('span', '.pie-not-sent').text(num);
                    
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }
            
            /***************************************
             * Controls the Not Started box and wheel
             ***************************************/
            function call_CloudProofStat_NotYetViewed(book)
            {
                var rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + 
                                  "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as counter FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid and " +
                          "tblAdGraphic.cloudproofsstatus = 1";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_CloudProofStat_NotYetViewed");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_CloudProofStat_NotYetViewed(response)
            {
                var dataEntry = [];
                NOT_YET_VIEWED = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        NOT_YET_VIEWED = dataEntry.counter;
                    }
                    dataEntry = [];
                    
                    $('.pie-not-yet-viewed').data('easyPieChart').update(100);
                    $('span', '.pie-not-yet-viewed').text(100);
                    $("#not_yet_viewed_count").html(0);
                    
                    var num = Math.round((NOT_YET_VIEWED/TOTAL_COUNT) * 100);
                    if( isNaN(num) || typeof num === 'undefined' )
                    {
                        num = 0;
                    }
                    $('#not_yet_viewed_count').html(NOT_YET_VIEWED);
                    $('.pie-not-yet-viewed').data('easyPieChart').update(num);
                    $('span', '.pie-not-yet-viewed').text(num);
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }

            /***************************************
             * Controls the Not Started box and wheel
             ***************************************/
            function call_CloudProofStat_AwaitingApproval(book)
            {
                var rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + 
                                  "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as counter FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid and " +
                          "tblAdGraphic.cloudproofsstatus = 2";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_CloudProofStat_AwaitingApproval");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_CloudProofStat_AwaitingApproval(response)
            {
                var dataEntry = [];
                CLOUD_AWAITING_APPROVAL = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        CLOUD_AWAITING_APPROVAL = dataEntry.counter;
                    }
                    dataEntry = [];
                    
                    $('.pie-cloud-awaiting-approval').data('easyPieChart').update(100);
                    $('span', '.pie-cloud-awaiting-approval').text(100);
                    $("#cloud_awaiting_approval_count").html(0);

                
                    var num = Math.round((CLOUD_AWAITING_APPROVAL/TOTAL_COUNT) * 100);
                    if( isNaN(num) || typeof num === 'undefined' )
                    {
                        num = 0;
                    }
                    $('#cloud_awaiting_approval_count').html(CLOUD_AWAITING_APPROVAL);
                    $('.pie-cloud-awaiting-approval').data('easyPieChart').update(num);
                    $('span', '.pie-cloud-awaiting-approval').text(num);
                    
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }
            
            
            /***************************************
             * Controls the Quality Control box and wheel
             ***************************************/
            function call_CloudProofStat_ChangesRequested(book)
            {
                var rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + 
                                  "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as counter FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid and " +
                          "tblAdGraphic.cloudproofsstatus = 3";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_CloudProofStat_ChangesRequested");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_CloudProofStat_ChangesRequested(response)
            {
                var dataEntry = [];
                CHANGES_REQUESTED = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        CHANGES_REQUESTED = dataEntry.counter;
                    }
                    dataEntry = [];
                    
                    $('.pie-changes-requested').data('easyPieChart').update(100);
                    $('span', '.pie-changes-requested').text(100); 
                    $("#changes_requested_count").html(0);
                
                    var num = Math.round((CHANGES_REQUESTED/TOTAL_COUNT) * 100);
                    if( isNaN(num) || typeof num === 'undefined' )
                    {
                        num = 0;
                    }
                    $('#changes_requested_count').html(CHANGES_REQUESTED);
                    $('.pie-changes-requested').data('easyPieChart').update(num);
                    $('span', '.pie-changes-requested').text(num);
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }
            //call_ProductionStat_ProofGen(BOOK);
            
            /***************************************
             * Controls the Not Started box and wheel
             ***************************************/
            function call_CloudProofStat_Approved(book)
            {
                var rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + 
                                  "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as counter FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid and " +
                          "tblAdGraphic.cloudproofsstatus = 4";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_CloudProofStat_Approved");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_CloudProofStat_Approved(response)
            {
                var dataEntry = [];
                CLOUD_APPROVED = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        CLOUD_APPROVED = dataEntry.counter;
                    }
                    dataEntry = [];
                    
                    $('.pie-cloud-approved').data('easyPieChart').update(100);
                    $('span', '.pie-cloud-approved').text(100);
                    $("#cloud_approved_count").html(0);

                    var num = Math.round((CLOUD_APPROVED/TOTAL_COUNT) * 100);
                    if( isNaN(num) || typeof num === 'undefined' )
                    {
                        num = 0;
                    }
                    $('#cloud_approved_count').html( CLOUD_APPROVED );
                    $('.pie-cloud-approved').data('easyPieChart').update(num);
                    $('span', '.pie-cloud-approved').text(num);
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }
            //call_ProductionStat_Revision(BOOK);
            
            /***************************************
             * Controls the Not Started box and wheel
             ***************************************/
            function call_CloudProofStat_ApprovedWChanges(book)
            {
                var rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + 
                                  "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as counter FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid and " +
                          "tblAdGraphic.cloudproofsstatus = 5";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_CloudProofStat_ApprovedWChanges");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_CloudProofStat_ApprovedWChanges(response)
            {
                var dataEntry = [];
                APPROVED_W_CHANGES = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        APPROVED_W_CHANGES = dataEntry.counter;
                    }
                    dataEntry = [];
                    
                    $('.pie-approved-w-changes').data('easyPieChart').update(100);
                    $('span', '.pie-approved-w-changes').text(100);
                    $("#approved_w_changes_count").html(0);

                    
                    var num = Math.round( (APPROVED_W_CHANGES/TOTAL_COUNT) * 100 );
                    if( isNaN(num) || typeof num === 'undefined' )
                    {
                        num = 0;
                    }
                    $('#approved_w_changes_count').html( APPROVED_W_CHANGES );
                    $('.pie-approved-w-changes').data('easyPieChart').update(num);
                    $('span', '.pie-approved-w-changes').text(num);
                    
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }
            
            
            /***************************************
             * Controls the Not Started box and wheel
             ***************************************/
            function call_CloudProofStat_AutoApproved(book)
            {
                var rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + 
                                  "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as counter FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid and " +
                          "tblAdGraphic.cloudproofsstatus = 6";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_CloudProofStat_AutoApproved");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_CloudProofStat_AutoApproved(response)
            {
                var dataEntry = [];
                
                AUTO_APPROVED = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        AUTO_APPROVED = dataEntry.counter;
                    }
                    dataEntry = [];
                    
                    $('.pie-auto-approved').data('easyPieChart').update(100);
                    $('span', '.pie-auto-approved').text(100);
                    $("#auto_approved_count").html(0);


                    var num = Math.round( (AUTO_APPROVED/TOTAL_COUNT) * 100 );
                    if( isNaN(num) || typeof num === 'undefined' )
                    {
                        num = 0;
                    }
                    $('#auto_approved_count').html( AUTO_APPROVED );
                    $('.pie-auto-approved').data('easyPieChart').update(num);
                    $('span', '.pie-auto-approved').text(num);
                    
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }

            /***************************************
             * Controls the Not Started box and wheel
             ***************************************/
            function call_CloudProofStat_Total(book)
            {
                var rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + 
                                  "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as count FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_CloudProofStat_Total");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_CloudProofStat_Total(response)
            {
                var dataEntry = [];
                
                TOTAL_COUNT = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        TOTAL_COUNT = dataEntry.count;
                    }
                    dataEntry = [];
//alert("TOTAL="+ TOTAL_COUNT);
                    $('#cloudproof_total_count').html( " "+TOTAL_COUNT );
                    window.status = "IN TOTAL, B4 CALLS:" + TOTAL_COUNT;
                    setTimeout(function(){
                        call_CloudProofStat_NotSent(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_CloudProofStat_NotYetViewed(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_CloudProofStat_AwaitingApproval(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_CloudProofStat_ChangesRequested(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_CloudProofStat_Approved(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_CloudProofStat_ApprovedWChanges(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_CloudProofStat_AutoApproved(BOOK);
                    },TIME);
                    
                    //call_CloudProofStat_NotSent(BOOK);
                    //call_CloudProofStat_NotYetViewed(BOOK);
                    //call_CloudProofStat_AwaitingApproval(BOOK);
                    //call_CloudProofStat_ChangesRequested(BOOK);
                    //call_CloudProofStat_Approved(BOOK);
                    //call_CloudProofStat_ApprovedWChanges(BOOK);
                    //call_CloudProofStat_AutoApproved(BOOK);
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }
            
            ///////////////////////PRODUCTION STAT//////////////////////////////   
            function call_CloudProofStat(book)
            {
                call_CloudProofStat_Total(BOOK);                    
            }
            
///////////////////////////////////////END HERE/////////////////////////////////////////////////////////





            
            ///////////////////////CLOUD STAT///////////////////////////////////
            function call_CloudProof(book)
            {//alert("in here too!!");
                $('.pie-not-sent').data('easyPieChart').update(100);
                $('span', '.pie-not-sent').text(100);
                $('.pie-not-yet-viewed').data('easyPieChart').update(100);
                $('span', '.pie-not-yet-viewed').text(100);
                $('.pie-cloud-awaiting-approval').data('easyPieChart').update(100);
                $('span', '.pie-cloud-awaiting-approval').text(100);
                $('.pie-changes-requested').data('easyPieChart').update(100);
                $('span', '.pie-changes-requested').text(100);             
                $('.pie-cloud-approved').data('easyPieChart').update(100);
                $('span', '.pie-cloud-approved').text(100);
                $('.pie-approved-w-changes').data('easyPieChart').update(100);
                $('span', '.pie-approved-w-changes').text(100);
                $('.pie-auto-approved').data('easyPieChart').update(100);
                $('span', '.pie-auto-approved').text(100);

                $("#not_sent_count").html(0);
                $("#not_yet_viewed_count").html(0);
                $("#cloud_awaiting_approval_count").html(0);
                $("#changes_requested_count").html(0);
                $("#cloud_approved_count").html(0);
                $("#approved_w_changes_count").html(0);
                $("#auto_approved_count").html(0);
                
                var total = 73;
                var contr_comp0 = (12/total) * 100;
                var contr_comp1 = (16/total) * 100;
                var contr_comp2 = (22/total) * 100;
                var contr_comp3 = (7/total) * 100;
                var contr_comp4 = (9/total) * 100;
                var contr_comp5 = (4/total) * 100;
                var contr_comp6 = (3/total) * 100;
                
                contr_comp0 = Math.round(contr_comp0);
                contr_comp1 = Math.round(contr_comp1);
                contr_comp2 = Math.round(contr_comp2);
                contr_comp3 = Math.round(contr_comp3);
                contr_comp4 = Math.round(contr_comp4);
                contr_comp5 = Math.round(contr_comp5);
                contr_comp6 = Math.round(contr_comp6);

                $('.pie-not-sent').data('easyPieChart').update(contr_comp0);
                $('span', '.pie-not-sent').text(contr_comp0);
                $('.pie-not-yet-viewed').data('easyPieChart').update(contr_comp1);
                $('span', '.pie-not-yet-viewed').text(contr_comp1);
                $('.pie-cloud-awaiting-approval').data('easyPieChart').update(contr_comp2);
                $('span', '.pie-cloud-awaiting-approval').text(contr_comp2);
                $('.pie-changes-requested').data('easyPieChart').update(contr_comp3);
                $('span', '.pie-changes-requested').text(contr_comp3);             
                $('.pie-cloud-approved').data('easyPieChart').update(contr_comp4);
                $('span', '.pie-cloud-approved').text(contr_comp4);
                $('.pie-approved-w-changes').data('easyPieChart').update(contr_comp5);
                $('span', '.pie-approved-w-changes').text(contr_comp5);
                $('.pie-auto-approved').data('easyPieChart').update(contr_comp6);
                $('span', '.pie-auto-approved').text(contr_comp6);

                $("#not_sent_count").html(12);
                $("#not_yet_viewed_count").html(16);
                $("#cloud_awaiting_approval_count").html(22);
                $("#changes_requested_count").html(7);
                $("#cloud_approved_count").html(9);
                $("#approved_w_changes_count").html(4);
                $("#auto_approved_count").html(3);

            }
            

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
            ////////////////////////////////////////////////////////////////////////////////////////////////////////////
            /***************************************
             * Controls the No Artwork box and wheel
             ***************************************/
            function call_RenewalStat_NotDetermined(book)
            {
                var  rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + 
                                  "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as counter FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid and " +
                          "tblAdGraphic.renewalstatus = 0";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_RenewalStat_NotDetermined");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_RenewalStat_NotDetermined(response)
            {
                var dataEntry = [];
                NOT_DET_COUNT = 0;
                
                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        NOT_DET_COUNT = dataEntry.counter;
                    }
                    dataEntry = [];
                    //alert(NOT_SENT + " NOTSENT");
                    $('.pie-not-determined').data('easyPieChart').update(100);
                    $('span', '.pie-not-determined').text(100);
                    $("#not_det_count").html(0);
                    
                    var num = Math.round((NOT_DET_COUNT/TOTAL_COUNT) * 100);
                    //alert(num);
                    if( isNaN(num) || typeof num === 'undefined' )
                    {
                        num = 0;
                    }
                    
                    $('#not_det_count').html(NOT_DET_COUNT);
                    $('.pie-not-determined').data('easyPieChart').update(num);
                    $('span', '.pie-not-determined').text(num);
                    
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }
            
            /***************************************
             * Controls the Not Started box and wheel
             ***************************************/
            function call_RenewalStat_SpecArt(book)
            {
                var  rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + 
                                  "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as counter FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid and " +
                          "tblAdGraphic.renewalstatus = 1";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_RenewalStat_SpecArt");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_RenewalStat_SpecArt(response)
            {
                var dataEntry = [];
                SPEC_ART_COUNT = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        SPEC_ART_COUNT = dataEntry.counter;
                    }
                    dataEntry = [];
                    
                    $('.pie-spec-art').data('easyPieChart').update(100);
                    $('span', '.pie-spec-art').text(100);
                    $("#spec_art_count").html(0);
                    
                    var num = Math.round((SPEC_ART_COUNT/TOTAL_COUNT) * 100);
                    if( isNaN(num) || typeof num === 'undefined' )
                    {
                        num = 0;
                    }
                    $('#spec_art_count').html(SPEC_ART_COUNT);
                    $('.pie-spec-art').data('easyPieChart').update(num);
                    $('span', '.pie-spec-art').text(num);
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }

            /***************************************
             * Controls the Not Started box and wheel
             ***************************************/
            function call_RenewalStat_StraightRenewal(book)
            {
                var  rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + 
                                  "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as counter FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid and " +
                          "tblAdGraphic.renewalstatus = 2";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_RenewalStat_StraightRenewal");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_RenewalStat_StraightRenewal(response)
            {
                var dataEntry = [];
                STRAIGHT_RENEW_COUNT = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        STRAIGHT_RENEW_COUNT = dataEntry.counter;
                    }
                    dataEntry = [];
                    
                    $('.pie-straight-renewal').data('easyPieChart').update(100);
                    $('span', '.pie-straight-renewal').text(100);
                    $("#straight_renew_count").html(0);

                
                    var num = Math.round((STRAIGHT_RENEW_COUNT/TOTAL_COUNT) * 100);
                    if( isNaN(num) || typeof num === 'undefined' )
                    {
                        num = 0;
                    }
                    $('#straight_renew_count').html(STRAIGHT_RENEW_COUNT);
                    $('.pie-straight-renewal').data('easyPieChart').update(num);
                    $('span', '.pie-straight-renewal').text(num);
                    
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }
            
            
            /***************************************
             * Controls the Quality Control box and wheel
             ***************************************/
            function call_RenewalStat_RevisionReq(book)
            {
                var  rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + 
                                  "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as counter FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid and " +
                          "tblAdGraphic.renewalstatus = 3";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_RenewalStat_RevisionReq");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_RenewalStat_RevisionReq(response)
            {
                var dataEntry = [];
                REVISION_REQ_COUNT = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        REVISION_REQ_COUNT = dataEntry.counter;
                    }
                    dataEntry = [];
                    
                    $('.pie-revision-required').data('easyPieChart').update(100);
                    $('span', '.pie-revision-required').text(100);  
                    $("#revision_req_count").html(0);
                
                    var num = Math.round((REVISION_REQ_COUNT/TOTAL_COUNT) * 100);
                    if( isNaN(num) || typeof num === 'undefined' )
                    {
                        num = 0;
                    }
                    $('#revision_req_count').html(REVISION_REQ_COUNT);
                    $('.pie-revision-required').data('easyPieChart').update(num);
                    $('span', '.pie-revision-required').text(num);
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }
            //call_ProductionStat_ProofGen(BOOK);
            
            /***************************************
             * Controls the Not Started box and wheel
             ***************************************/
            function call_RenewalStat_New(book)
            {
                var  rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + 
                                  "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as counter FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid and " +
                          "tblAdGraphic.renewalstatus = 4";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_RenewalStat_New");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_RenewalStat_New(response)
            {
                var dataEntry = [];
                NEW_COUNT = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        NEW_COUNT = dataEntry.counter;
                    }
                    dataEntry = [];
                    
                    $('.pie-new').data('easyPieChart').update(100);
                    $('span', '.pie-new').text(100);
                    $("#new_count").html(0);

                    var num = Math.round((NEW_COUNT/TOTAL_COUNT) * 100);
                    if( isNaN(num) || typeof num === 'undefined' )
                    {
                        num = 0;
                    }
                    $('#new_count').html( NEW_COUNT );
                    $('.pie-new').data('easyPieChart').update(num);
                    $('span', '.pie-new').text(num);
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }
            //call_ProductionStat_Revision(BOOK);
            
            /***************************************
             * Controls the Not Started box and wheel
             ***************************************/
            function call_RenewalStat_NotSold(book)
            {
                var  rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + 
                                  "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as counter FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid and " +
                          "tblAdGraphic.renewalstatus = 5";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_RenewalStat_NotSold");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_RenewalStat_NotSold(response)
            {
                var dataEntry = [];
                NOT_SOLD_COUNT = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        NOT_SOLD_COUNT = dataEntry.counter;
                    }
                    dataEntry = [];
                    
                    $('.pie-not-sold').data('easyPieChart').update(100);
                    $('span', '.pie-not-sold').text(100);
                    $("#not_sold_count").html(0);

                    
                    var num = Math.round( (NOT_SOLD_COUNT/TOTAL_COUNT) * 100 );
                    if( isNaN(num) || typeof num === 'undefined' )
                    {
                        num = 0;
                    }
                    $('#not_sold_count').html( NOT_SOLD_COUNT );
                    $('.pie-not-sold').data('easyPieChart').update(num);
                    $('span', '.pie-not-sold').text(num);
                    
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }
            
            
            /***************************************
             * Controls the Not Started box and wheel
             ***************************************/
            function call_RenewalStat_Complete(book)
            {
                var  rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + 
                                  "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as counter FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid and " +
                          "tblAdGraphic.renewalstatus = 6";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_RenewalStat_Complete");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_RenewalStat_Complete(response)
            {
                var dataEntry = [];
                COMPLETE_COUNT = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        COMPLETE_COUNT = dataEntry.counter;
                    }
                    dataEntry = [];
                    
                    $('.pie-complete').data('easyPieChart').update(100);
                    $('span', '.pie-complete').text(100);
                    $("#complete_count").html(0);


                    var num = Math.round( (COMPLETE_COUNT/TOTAL_COUNT) * 100 );
                    if( isNaN(num) || typeof num === 'undefined' )
                    {
                        num = 0;
                    }
                    $('#complete_count').html( COMPLETE_COUNT );
                    $('.pie-complete').data('easyPieChart').update(num);
                    $('span', '.pie-complete').text(num);
                    
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }

            /***************************************
             * Controls the Not Started box and wheel
             ***************************************/
            function call_RenewalStat_Total(book)
            {
                var  rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + 
                                  "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" + 
                          "SELECT count(*) as count FROM tblAdGraphic, tblAdNumber WHERE " + rep_request +
                          "tblAdNumber.bookorproduct = '" + book + "' and " +
                          "tblAdNumber.id = tblAdGraphic.adnumberid";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_RenewalStat_Total");
                document.getElementsByTagName('head')[0].appendChild(script);
            }
            
            function jsonp_RenewalStat_Total(response)
            {
                var dataEntry = [];
                TOTAL_COUNT = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        TOTAL_COUNT = dataEntry.count;
                    }
                    dataEntry = [];
//alert("TOTAL="+ TOTAL_COUNT);
                    $('#renewal_total_count').html( " "+TOTAL_COUNT );
                    
                    setTimeout(function(){
                        call_RenewalStat_NotDetermined(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_RenewalStat_SpecArt(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_RenewalStat_StraightRenewal(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_RenewalStat_RevisionReq(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_RenewalStat_New(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_RenewalStat_NotSold(BOOK);
                    },TIME);
                    setTimeout(function(){
                        call_RenewalStat_Complete(BOOK);
                    },TIME);
                    
                    /*call_RenewalStat_NotDetermined(BOOK);
                    call_RenewalStat_SpecArt(BOOK);
                    call_RenewalStat_StraightRenewal(BOOK);
                    call_RenewalStat_RevisionReq(BOOK);
                    call_RenewalStat_New(BOOK);
                    call_RenewalStat_NotSold(BOOK);
                    call_RenewalStat_Complete(BOOK);*/
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('Something bad happened: ' + an_exception);
                }
            }
            
            ///////////////////////RENEWAL STAT//////////////////////////////   
            function call_RenewalStat(book)
            {
                call_RenewalStat_Total(BOOK);                    
            }
            
///////////////////////////////////////END HERE/////////////////////////////////////////////////////////
            
            
            function call_Renewal(book)
            {
                $('.pie-not-determined').data('easyPieChart').update(100);
                $('span', '.pie-not-determined').text(100);
                $('.pie-spec-art').data('easyPieChart').update(100);
                $('span', '.pie-spec-art').text(100);
                $('.pie-straight-renewal').data('easyPieChart').update(100);
                $('span', '.pie-straight-renewal').text(100);
                $('.pie-revision-required').data('easyPieChart').update(100);
                $('span', '.pie-revision-required').text(100);             
                $('.pie-new').data('easyPieChart').update(100);
                $('span', '.pie-new').text(100);
                $('.pie-not-sold').data('easyPieChart').update(100);
                $('span', '.pie-not-sold').text(100);
                $('.pie-complete').data('easyPieChart').update(100);
                $('span', '.pie-complete').text(100);

                $("#not_det_count").html(0);
                $("#spec_art_count").html(0);
                $("#straight_renew_count").html(0);
                $("#revision_req_count").html(0);
                $("#new_count").html(0);
                $("#not_sold_count").html(0);
                $("#complete_count").html(0);
                
                var total = 667;
                var contr_comp0 = (123/total) * 100;
                var contr_comp1 = (14/total) * 100;
                var contr_comp2 = (318/total) * 100;
                var contr_comp3 = (119/total) * 100;
                var contr_comp4 = (88/total) * 100;
                var contr_comp5 = (128/total) * 100;
                var contr_comp6 = (346/total) * 100;
                
                contr_comp0 = Math.round(contr_comp0);
                contr_comp1 = Math.round(contr_comp1);
                contr_comp2 = Math.round(contr_comp2);
                contr_comp3 = Math.round(contr_comp3);
                contr_comp4 = Math.round(contr_comp4);
                contr_comp5 = Math.round(contr_comp5);
                contr_comp6 = Math.round(contr_comp6);

                $('.pie-not-determined').data('easyPieChart').update(contr_comp0);
                $('span', '.pie-not-determined').text(contr_comp0);
                $('.pie-spec-art').data('easyPieChart').update(contr_comp1);
                $('span', '.pie-spec-art').text(contr_comp1);
                $('.pie-straight-renewal').data('easyPieChart').update(contr_comp2);
                $('span', '.pie-straight-renewal').text(contr_comp2);
                $('.pie-revision-required').data('easyPieChart').update(contr_comp3);
                $('span', '.pie-revision-required').text(contr_comp3);             
                $('.pie-new').data('easyPieChart').update(contr_comp4);
                $('span', '.pie-new').text(contr_comp4);
                $('.pie-not-sold').data('easyPieChart').update(contr_comp5);
                $('span', '.pie-not-sold').text(contr_comp5);
                $('.pie-complete').data('easyPieChart').update(contr_comp6);
                $('span', '.pie-complete').text(contr_comp6);

                $("#not_det_count").html(123);
                $("#spec_art_count").html(14);
                $("#straight_renew_count").html(318);
                $("#revision_req_count").html(119);
                $("#new_count").html(88);
                $("#not_sold_count").html(128);
                $("#complete_count").html(346);
            }
            
            function setServerFromJava(server)
            {
                SERVER = server;
            }
            
            function setSQLServerFromJava(server)
            {
                SQL_SERVER = server;
            }
            
            function setBookFromJava(book)
            {
                TEMP_BOOK = book;
            }
            
            function show_ArtDates()
            {     
                //alert(START_DATE_ARR + " IN SHOW ART " + GLOBAL_INDEX);
                var theStart = START_DATE_ARR[GLOBAL_INDEX];
                var theClose = CLOSE_DATE_ARR[GLOBAL_INDEX];
                var ratio = Math.round( percentWorkDaysCompleted() );
                
                if(theStart === "12/30/1899" )
                {
                    ratio = 100;
                    theStart = "No Date";
                }
                if(theClose === "12/30/1899")
                {
                    ratio = 100;//00/00/00 
                    theClose = "No Date";
                }
                
                //console.log("ratio " + ratio);
                //window.status = "b4 pie " + ratio;
                $('.pie-total-ads').data('easyPieChart').update(ratio);
                $('span', '.pie-total-ads').text(ratio);
                
                $('#start_date').html(theStart);
                $('#art_close_date').html(theClose);
                $('#days_left_count').html(FROM_TODAY);
            }
            
            
            
            ///////////////////////////////////////////////
            
            /***************************************************
             * Finds the number of canvas days between two dates.
             * The number of days excludes weekends.
             * 
             * d1 should be <= d2.
             * 
             * @param {type} d1
             * @param {type} d2
             * @returns {Number}
             ***************************************************/
            function getWorkDays(d1, d2)
            {

                var bizDays = 0, dd;
                
                while(d1 <= d2)
                {
                    dd = d1.getDay();
                    if( (dd%6) !== 0)
                    {
                      bizDays++;
                    }
                    d1.setDate( d1.getDate() + 1 );
                }

                return bizDays;
            }
            
            /**************************************
             * Gets the total number of canvas days 
             * from two specified dates.
             *  
             * @returns {Number}
             *************************************/
            function getTotalCanvasDays()
            {

                var day1 = new Date(START_DATE);
                var day2 = new Date(CLOSE_DATE);
                
                if(day1 > day2)//the START_DATE is after the CLOSE_DATE
                {
                    return -1;
                }

                return getWorkDays(day1, day2);
            }
            
            /**************************************
             * Gets the number of workdays from 
             * todays date to the closing date.
             * 
             * @returns {Number}
             *************************************/
            function getCanvasDaysFromToday()
            {         
                var day1 = new Date();//todays date
                //CLOSE_DATE = "Mon Sept 30 2013 12:07:32 GMT-0700 (Pacific Daylight Time)";
                
                var day2 = new Date(CLOSE_DATE);

                if(day1 > day2)//the START_DATE is after the CLOSE_DATE
                {
                    return -1;
                }
                
                return getWorkDays(day1, day2);
            }

            /**************************************
             * Takes two dates and figures out a 
             * percentage of days complete based 
             * on todays date.
             * 
             * @returns {Number}
             *************************************/
            function percentWorkDaysCompleted()
            {
                /*update book set canstart = date(2013,04,10) WHERE BOOK = 'SJ13'*/
                
                var percent_Days_Left = 0.0, from_Today = 0, from_Start = 0;

                CLOSE_DATE = CLOSE_DATE_ARR[GLOBAL_INDEX];
                //alert(CLOSE_DATE + "b4 format");
                //CLOSE_DATE = formatDate(CLOSE_DATE);
                
                START_DATE = START_DATE_ARR[GLOBAL_INDEX];
                //START_DATE = formatDate(START_DATE);
                
                CANVAS_START_DATE_BOX = START_DATE_ARR[GLOBAL_INDEX];
                CANVAS_END_DATE_BOX = CLOSE_DATE_ARR[GLOBAL_INDEX];
                
                var today = new Date();//10/20/2013  2013, 9, 20
                var closing_day = new Date(CLOSE_DATE);
               
                //check to see if the formatted start date is "1899, 11, 30"
                if(START_DATE == DEFAULT_DATE )
                {
                    //only display this error message if canvas is still active
                    if(today < closing_day) 
                    {
                        alert("Canvas Days Remaining Could Not Be Calculated " +
                              "Due to Invalid Start Date For Book: " + BOOK +
                              "\n\n" +
                              "Please Update \"packassign\" Field " + 
                              "in Yellow Magic Database");
                    }  
                    
                    return 100;
                }
                else
                {
                    from_Today = getCanvasDaysFromToday();
                    from_Start = getTotalCanvasDays();

                    if(from_Start == -1 || from_Today == -1)
                    {
                        return 100;
                    }
                    
                    FROM_TODAY = from_Today;
                    //update the "Days Left" label on the sidebar
                    
                    
                    from_Today = from_Start - from_Today;
                    percent_Days_Left = from_Today / from_Start;
                    
//window.status = "in method "+from_Today + " " + from_Start + " " + (percent_Days_Left * 100);

                    if(percent_Days_Left > 1 || from_Today === 0 || from_Start === 0)
                    {
                        percent_Days_Left = 1;
                    }
                    console.log("in method " + (percent_Days_Left * 100) );
                    
                    return (percent_Days_Left * 100);
                }
            }
            
            /**************************************
             * Calls the individual format methods,
             * should only be called once per date 
             * retrieved because the months are 
             * decremented to compensate being off
             * by one.
             * 
             * @param {type} str
             * @returns {String}
             *************************************/
            function formatDate(str)
            {
                var year, month, day, theDate;
                
                year = get_Year(str);
                month = get_Month(str);
                day = get_Day(str);
                theDate = year + ", " + (month - 1) + ", " + day;
                
                return theDate;
            }
            
            /***************************************
             * Trims the string to get the year
             * @param {type} str
             * @returns {@exp;str@call;substring}
             ***************************************/
            function get_Year(str)
            {
                var strVal = String(str);
                var index = strVal.lastIndexOf("/");
                return strVal.substring((index + 1), strVal.length);
            }
            
            /***************************************
             * Trims the string to get the month
             * @param {type} str
             * @returns {@exp;str@call;substring}
             ***************************************/
            function get_Month(str)
            {
                var strVal = String(str);
                var index = strVal.indexOf("/");
                return strVal.substring(0, index);
            }
            
            /***************************************
             * Trims the string to get the day
             * @param {type} str
             * @returns {@exp;str@call;substring}
             ***************************************/
            function get_Day(str)
            {
                var strVal = String(str);
                var index0 = strVal.indexOf("/"), index1 = strVal.lastIndexOf("/");
                return strVal.substring( (index0 + 1), index1 );  
            }
            
            function pass_Server_to_Java()
            {
                var strServer = SERVER;
                
                return strServer;
            }
            
            function pass_SQL_Server_to_Java()
            {
                var strServer = SQL_SERVER;
                
                return strServer;
            }
    
            function pass_Book_to_Java()
            {
                var strBook = BOOK;
                
                return strBook.toString();
            }
            
            ///////////////////////////////////////////////
            
            /*************************************
             * Gets the count of nowhere locations
             *************************************/
            function call_getLocationNowhere(book)
            {
                var  rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + 
                                  "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" +
                          "SELECT count(*) as nowhere FROM tblAdGraphic, tblAdNumber " +
                          "WHERE "+ rep_request +
                          "currentlocation = 0 and " + 
                          "tblAdNumber.bookorproduct = '"+ book + 
                          "' and tblAdNumber.id = tblAdGraphic.adnumberid";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_Nowhere");
                document.getElementsByTagName('head')[0].appendChild(script);

            }
            function jsonp_Nowhere(response)
            {
                var dataEntry = [];
                NOWHERE_COUNT = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        NOWHERE_COUNT = dataEntry.nowhere;
                    }
                    dataEntry = [];
                    $('#nowhere_count').html(NOWHERE_COUNT);
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('4Something bad happened: ' + an_exception);
                }
            }
            
            /*************************************
             * Gets the count of canvas locations
             *************************************/
            function call_getLocationCanvas(book)
            {
                var  rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + 
                                  "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" +
                          "SELECT count(*) as canvas FROM tblAdGraphic, tblAdNumber " +
                          "WHERE " + rep_request +
                          "currentlocation = 1 and " + 
                          "tblAdNumber.bookorproduct = '"+ book + 
                          "' and tblAdNumber.id = tblAdGraphic.adnumberid";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_Canvas");
                document.getElementsByTagName('head')[0].appendChild(script);

            }
            function jsonp_Canvas(response)
            {
                var dataEntry = [];
                CANVAS_COUNT = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        CANVAS_COUNT = dataEntry.canvas;
                    }
                    dataEntry = [];
                    $('#canvas_count').html(CANVAS_COUNT);
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('4Something bad happened: ' + an_exception);
                }
            }
            
            /*************************************
             * Gets the count of proof locations
             *************************************/
            function call_getLocationProof(book)
            {
                var  rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + 
                                  "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" +
                          "SELECT count(*) as proof FROM tblAdGraphic, tblAdNumber " +
                          "WHERE "+ rep_request +
                          "currentlocation = 2 and " + 
                          "tblAdNumber.bookorproduct = '"+ book + 
                          "' and tblAdNumber.id = tblAdGraphic.adnumberid";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_Proof");
                document.getElementsByTagName('head')[0].appendChild(script);

            }
            function jsonp_Proof(response)
            {
                var dataEntry = [];
                PROOF_COUNT = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        PROOF_COUNT = dataEntry.proof;
                    }
                    dataEntry = [];
                    $('#proof_count').html(PROOF_COUNT);
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('4Something bad happened: ' + an_exception);
                }
            }
            
            /*************************************
             * Gets the count of ads locations
             *************************************/
            function call_getLocationAds(book)
            {
             
                var  rep_request = "";
                if(REP_INDEX === REP_CODE.length - 1)
                {
                    rep_request = "tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX === REP_CODE.length - 2)
                {
                    rep_request = "tblAdGraphic.empcodega='"+ REP_CODE[REP_INDEX] + 
                                  "' and ";
                }
                else if(REP_INDEX !== 0 && REP_INDEX <= REP_CODE.length)
                {
                    rep_request = "(tblAdGraphic.empcodega='" + REP_CODE[REP_INDEX] + 
                                  "' or tblAdGraphic.empcodeqc='"+ REP_CODE[REP_INDEX] + 
                                  "') and ";
                }
                
                var url = "http://" + SQL_SERVER + "/" +
                          "SELECT count(*) as ads FROM tblAdGraphic, tblAdNumber " +
                          "WHERE "+ rep_request +
                          "currentlocation = 3 and " + 
                          "tblAdNumber.bookorproduct = '"+ book + 
                          "' and tblAdNumber.id = tblAdGraphic.adnumberid";
                  
                var script = document.createElement('script');
                script.setAttribute('src', url + "?mysqlwebcallback=jsonp_Ads");
                document.getElementsByTagName('head')[0].appendChild(script);

            }
            function jsonp_Ads(response)
            {
                var dataEntry = [];
                ADS_COUNT = 0;

                try
                {
                    var len = response.result.length;
                    for (var i = 0; i < len; i++) 
                    {
                        dataEntry = response.result[i];
                        ADS_COUNT = dataEntry.ads;
                    }
                    dataEntry = [];
                    $('#ads_count').html(ADS_COUNT);
                }
                catch (an_exception) // alert for the users that don't have a javascript console
                {
                    alert('4Something bad happened: ' + an_exception);
                }
            }
            
            
            
       
        
        </script>

<!-- TODO: {
                      display piechart info in boxes. WORKING ON
                      change icon colors to dark grey. DONE
                      look into why screen jumps at beginning. DONE
                      get rid of button. DONE
                      clean up junk code. WORKING ON
                      look into safe guarding routines when clicking tabs too fast. ITS A FEATURE
                      start up on layout of ad-dashboard.
                      fix tick marks on topreps html. NOT A PROBLEM IN JAVA!


production:
pie-no-artwork
pie-not-started
pie-art-department
pie-quality-control
pie-proof-gen
pie-revision
pie-awaiting-approval
pie-approval

no_artwork_count
prod_not_started_count
prod_art_dept_count
prod_quality_control_count
prod_proof_gen_count
prod_revision_count
awaiting_approval_count
approved_count

//production
NO_ART_COUNT = 0;
NOT_STARTED = 0;
ART_DEPT = 0;
QUAL_CONTROL = 0;
PROOF_GEN = 0;
AWAITING_APPROVAL = 0;
REVISION_COUNT = 0;
APPROVED_COUNT = 0;


renewal:
pie-not-determined
pie-spec-art
pie-straight-renewal
pie-revision-required
pie-new
pie-not-sold
pie-complete

not_det_count
spec_art_count
straight_renew_count
revision_req_count
new_count
not_sold_count
complete_count



cloudproof:
pie-not-sent
pie-not-yet-viewed
pie-cloud-awaiting-approval
pie-changes-requested
pie-cloud-approved
pie-approved-w-changes
pie-auto-approved

not_sent_count
not_yet_viewed_count
cloud_awaiting_approval_count
changes_requested_count
cloud_approved_count
approved_w_changes_count
auto_approved_count

           } -->
    </body>
</html>
